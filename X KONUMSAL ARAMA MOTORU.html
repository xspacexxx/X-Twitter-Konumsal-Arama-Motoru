<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Twitter konumsal arama motoru">
    <meta name="keywords" content="twitter, arama, konum, x">
    <title>X KONUMSAL ARAMA MOTORU</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîç</text></svg>">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <style>
        /* Genel Stil */
        * {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            color: #0F1419;
            display: flex;
            flex-wrap: nowrap;
            align-items: flex-start;
            padding: 20px;
            position: relative;
            min-height: 100vh;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(0, 172, 238, 0.1) 0%, transparent 30%),
                        radial-gradient(circle at 80% 70%, rgba(121, 55, 224, 0.1) 0%, transparent 30%);
            z-index: -1;
            pointer-events: none;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #121212 0%, #1e1e1e 100%);
            color: #e7e9ea;
        }

        body.dark-mode::before {
            background: radial-gradient(circle at 20% 30%, rgba(0, 172, 238, 0.05) 0%, transparent 30%),
                        radial-gradient(circle at 80% 70%, rgba(121, 55, 224, 0.05) 0%, transparent 30%);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(#00ACEE, #7937e0);
            border-radius: 10px;
            border: 3px solid rgba(0,0,0,0);
            background-clip: padding-box;
        }

        .dark-mode ::-webkit-scrollbar-thumb {
            background: linear-gradient(#7937e0, #00ACEE);
        }

        /* Dark Mode Butonu */
        #toggleDarkMode {
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: none;
            position: relative;
            overflow: hidden;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-transform: uppercase;
            background: linear-gradient(135deg, #00ACEE, #0066FF);
            color: white;
            font-size: 0.85rem;
            position: static;
            margin-bottom: 20px;
            width: 100%;
            margin-top: 0; /* √úst bo≈üluƒüu sƒ±fƒ±rla */
        }

        #toggleDarkMode:hover {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }

        #toggleDarkMode:active {
            transform: translateY(0);
        }

        /* Sol Panel (Ayarlar) */
        .left-panel {
            width: 250px;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(12px);
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(245,248,250,0.9) 100%);
            animation: slideUp 0.6s ease-out;
            height: auto;
            min-height: 0;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .dark-mode .left-panel {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.9) 0%, rgba(40, 40, 40, 0.9) 100%);
            border-color: rgba(0, 0, 0, 0.4);
        }

        /* Ayarlar S√ºtunundaki Butonlar */
        .left-panel button {
            width: 100%;
            margin-bottom: 0; /* Alt bo≈üluƒüu sƒ±fƒ±rla */
            padding: 12px 20px;
            font-size: 0.9rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-sizing: border-box;
        }

        .left-panel button:last-child {
            margin-bottom: 0;
        }

        /* Ayarlar Ba≈ülƒ±ƒüƒ± */
        .settings-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #00ACEE;
            text-transform: uppercase;
        }

        .settings-header h2 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0;
        }

        .settings-header i {
            font-size: 1.8rem;
            color: #00ACEE;
        }

        /* Ayarlar Bilgi Kutusu */
        .settings-info {
            flex: 1;
            padding: 12px;
            background: linear-gradient(135deg, rgba(240,242,245,0.9), rgba(210,230,250,0.9));
            border-radius: 12px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-width: 200px;
            border-left: 4px solid #00ACEE;
            font-weight: 500;
            text-align: center;
            margin-bottom: 10px; /* Alt bo≈üluƒüu azalt */
        }

        .dark-mode .settings-info {
            background: linear-gradient(135deg, rgba(30,30,30,0.9), rgba(40,40,40,0.9));
            color: #e7e9ea;
            border-color: #444;
        }

        /* Modern Settings Info */
        .settings-info.modern-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px;
            background: linear-gradient(135deg, rgba(0, 172, 238, 0.1), rgba(121, 55, 224, 0.1));
            border-radius: 12px;
            font-size: 1rem;
            font-weight: bold;
            color: #00ACEE;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #00ACEE;
            transition: all 0.3s ease;
        }

        .settings-info.modern-info:hover {
            background: linear-gradient(135deg, rgba(0, 172, 238, 0.2), rgba(121, 55, 224, 0.2));
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        .settings-info .modern-icon {
            font-size: 1.5rem;
            color: #00ACEE;
            animation: float 2s infinite ease-in-out;
        }

        .settings-info .modern-city {
            font-size: 1.2rem;
            font-weight: 700;
            color: #0F1419;
        }

        .settings-info .modern-separator {
            font-size: 1.2rem;
            font-weight: 700;
            color: #657786;
        }

        .settings-info .modern-radius {
            font-size: 1.2rem;
            font-weight: 700;
            color: #7937e0;
        }

        /* Float Animation */
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }

        /* Ana ƒ∞√ßerik */
        .main-content {
            flex: 1;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(12px);
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(245,248,250,0.9) 100%);
            margin: 0 20px;
            animation: slideUp 0.6s ease-out;
            height: auto;
            min-height: 0;
        }

        .dark-mode .main-content {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.9) 0%, rgba(40, 40, 40, 0.9) 100%);
            border-color: rgba(0, 0, 0, 0.4);
        }

        /* Saƒü Panel (Son Aramalar ve Favoriler) */
        .right-panel {
            width: 456px;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(12px);
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(245,248,250,0.9) 100%);
            animation: slideUp 0.6s ease-out;
            height: auto;
            min-height: 0;
        }

        .dark-mode .right-panel {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.9) 0%, rgba(40, 40, 40, 0.9) 100%);
            border-color: rgba(0, 0, 0, 0.4);
        }

        /* Arama Ba≈ülƒ±ƒüƒ± */
        .form-container h2 {
            font-size: 2.5rem;
            margin-top: 0;
            margin-bottom: 25px;
            color: #00ACEE;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            text-align: center;
            letter-spacing: 1px;
        }

        .search-engine-text {
            background: linear-gradient(90deg, #00ACEE, #7937e0);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Input Gruplarƒ± */
        .input-group {
            position: relative;
            margin-bottom: 25px;
        }

        .input-group::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, #00ACEE, #7937e0);
            transition: width 0.4s ease;
        }

        .input-group:focus-within::after {
            width: 100%;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #566370;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }

        .dark-mode label {
            color: #8b98a5;
        }

        input[type="text"],
        select,
        input[type="number"],
        input[type="date"] {
            width: 100%;
            padding: 14px 18px;
            margin-bottom: 5px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            box-sizing: border-box;
            background-color: rgba(255,255,255,0.8);
            transition: all 0.3s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        input[type="text"]:focus,
        select:focus,
        input[type="number"]:focus,
        input[type="date"]:focus {
            border-color: #00ACEE;
            box-shadow: 0 0 0 3px rgba(0, 172, 238, 0.2), 0 5px 15px rgba(0, 172, 238, 0.2);
            outline: none;
            background-color: white;
        }

        .dark-mode input[type="text"],
        .dark-mode select,
        .dark-mode input[type="number"],
        .dark-mode input[type="date"] {
            background: rgba(30,30,30,0.8);
            color: #fff;
            border-color: #444;
        }

        input::placeholder {
            color: #657786;
            opacity: 1;
            transition: all 0.3s;
        }

        input:focus::placeholder {
            color: transparent;
        }

        .dark-mode input::placeholder {
            color: #8b98a5;
        }

        /* Tarih Giri≈ü Butonlarƒ± */
        input[type="date"] {
            width: 180px;
            padding: 12px;
            font-size: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            box-sizing: border-box;
            cursor: pointer;
        }

        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(0.5);
            padding: 4px;
            cursor: pointer;
        }

        .dark-mode input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(0.8);
        }

        /* Arama Terimi ve Tarih Aralƒ±ƒüƒ± */
        .search-query-and-dates {
            display: flex;
            gap: 20px;
            margin-bottom: 0; /* Alt bo≈üluƒüu sƒ±fƒ±rla */
            flex-wrap: wrap;
        }

        .search-query-and-dates .search-query {
            flex: 3;
        }

        .search-query-and-dates .date-range {
            flex: 2;
            display: flex;
            gap: 15px;
        }

        /* Arama Filtreleri */
        .search-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        /* Butonlar i√ßin Ortak Stil */
        button {
            padding: 14px 22px;
            border-radius: 12px;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            border: none;
            position: relative;
            overflow: hidden;
            font-size: 0.95rem;
            cursor: pointer;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            color: white;
            letter-spacing: 0.5px;
            position: relative;
        }

        button:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }

        button:hover i {
            transform: scale(1.2);
        }

        button:active {
            transform: translateY(0);
        }

        button i {
            transition: transform 0.3s ease;
        }

        .ripple-effect {
            position: absolute;
            transform: translate(-50%, -50%);
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            animation: ripple 1s linear;
            pointer-events: none;
        }

        @keyframes ripple {
            to {
                width: 500px;
                height: 500px;
                opacity: 0;
            }
        }

        /* √ñzel Buton Stilleri */
        .search-filters button {
            flex: 1;
            min-width: 120px;
            padding: 12px;
            background-color: #f0f2f5;
            border: 1px solid #ddd;
            font-size: 0.85rem;
        }

        .search-filters button.active {
            background: linear-gradient(135deg, #00ACEE, #0066FF);
            color: white;
            border-color: #00ACEE;
        }

        .search-filters button:hover {
            background-color: #e2e5e9;
        }

        .primary-btn {
            background: linear-gradient(135deg, #00ACEE, #0066FF);
            box-shadow: 0 4px 15px rgba(0, 172, 238, 0.4);
        }

        .primary-btn:hover i {
            animation: bounce 0.5s;
        }

        .danger-btn {
            background: linear-gradient(135deg, #FF4D4D, #CC0000);
            box-shadow: 0 4px 15px rgba(255, 77, 77, 0.4);
        }

        .success-btn {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .secondary-btn {
            background: linear-gradient(135deg, #6A5ACD, #4B0082);
            box-shadow: 0 4px 15px rgba(106, 90, 205, 0.4);
        }

        .info-btn {
            background: linear-gradient(135deg, #00b4db, #0083b0);
            box-shadow: 0 4px 15px rgba(0, 180, 219, 0.3);
        }

        /* Ayarlar S√ºtun (Tek Sƒ±ra) */
        .settings-row {
            display: flex;
            gap: 3px; /* Aradaki bo≈üluƒüu azalt */
            margin-bottom: 15px;
            align-items: flex-end;
            flex-wrap: wrap;
        }

        .form-buttons {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .form-buttons button {
            flex: 1 1 auto;
            min-width: 120px;
        }

        /* HARƒ∞TA D√úZENƒ∞ */
        #map {
            height: 500px;
            margin-top: 25px;
            border-radius: 16px;
            z-index: 1;
            width: 100%;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        #map:hover {
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        .pulse-circle {
            animation: pulse-border 2s infinite;
        }

        @keyframes pulse-border {
            0% { stroke-width: 2px; }
            50% { stroke-width: 4px; }
            100% { stroke-width: 2px; }
        }

        /* ƒ∞statistik Kartlarƒ± */
        .stats-container {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .stats-card {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            border-radius: 12px;
            background: rgba(255,255,255,0.9);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            border-left: 4px solid;
        }

        .stats-card:nth-child(1) {
            border-color: #00ACEE;
            background: rgba(0, 172, 238, 0.05);
        }
        .stats-card:nth-child(2) {
            border-color: #7937e0;
            background: rgba(121, 55, 224, 0.05);
        }
        .stats-card:nth-child(3) {
            border-color: #FF4500;
            background: rgba(255, 69, 0, 0.05);
        }

        .stats-card i {
            font-size: 2rem;
            padding: 15px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));
            color: inherit;
        }

        .dark-mode .stats-card i {
            background: linear-gradient(135deg, rgba(30,30,30,0.9), rgba(40,40,40,0.6));
        }

        .stats-card div {
            display: flex;
            flex-direction: column;
        }

        .stats-card .count {
            font-size: 1.3rem;
            font-weight: 700;
            color: #0F1419;
        }

        .stats-card span:last-child {
            font-size: 0.8rem;
            color: #657786;
        }

        .dark-mode .stats-card {
            background: rgba(30,30,30,0.9);
        }

        .dark-mode .stats-card .count {
            color: #e7e9ea;
        }

        .dark-mode .stats-card span:last-child {
            color: #8b98a5;
        }

        /* Son Aramalar ve Favori Aramalar S√ºtunu */
        .bottom-column {
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.85);
            animation: slideUp 0.8s ease-out;
            margin-bottom: 20px;
        }

        .dark-mode .bottom-column {
            background: rgba(30, 30, 30, 0.85);
            border-color: rgba(0, 0, 0, 0.4);
        }

        .bottom-column h2 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #00ACEE;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 10px;
            letter-spacing: 0.5px;
        }

        .bottom-column h2:first-child {
            margin-top: 0;
        }

        .bottom-column h2:not(:first-child) {
            margin-top: 30px;
        }

        /* Favori ve Son Aramalar Listesi */
        .bottom-column ul {
            list-style: none;
            padding: 0;
            margin: 0;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 8px;
            scrollbar-width: thin;
            scrollbar-color: #00ACEE rgba(0, 0, 0, 0.1);
        }

        .bottom-column ul::-webkit-scrollbar {
            width: 8px;
        }

        .bottom-column ul::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }

        .bottom-column ul::-webkit-scrollbar-thumb {
            background-color: #00ACEE;
            border-radius: 10px;
            border: 2px solid rgba(0, 0, 0, 0);
        }

        .dark-mode .bottom-column ul::-webkit-scrollbar-thumb {
            background-color: #7937e0;
        }

        .bottom-column li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 12px;
            background: linear-gradient(90deg, rgba(255,255,255,0.9), rgba(245,248,250,0.9));
            transition: all 0.3s;
            border-left: 4px solid transparent;
            cursor: pointer;
            animation: slideInRight 0.3s ease-out forwards;
            position: relative;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .bottom-column li:hover {
            transform: translateY(-3px);
            border-left: 4px solid #00ACEE;
            background: white;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .dark-mode .bottom-column li {
            background: linear-gradient(90deg, rgba(30,30,30,0.9), rgba(40,40,40,0.9));
            border-color: #555;
        }

        .dark-mode .bottom-column li:hover {
            background: #333;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        /* List Item ƒ∞√ßeriƒüi i√ßin Ek D√ºzenlemeler */
        .bottom-column li > div:first-of-type {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding-right: 10px;
        }

        /* Buton Gruplarƒ± i√ßin Ek Stiller */
        .bottom-column li > button {
            flex-shrink: 0;
        }

        .star-button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.3rem;
            color: #ccc;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            padding: 5px;
            margin-right: 5px;
        }

        .star-button:hover {
            transform: scale(1.2);
        }

        .star-button.favorited {
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
            animation: pulse-star 1.5s infinite;
        }

        .star-button.favorited:hover {
            animation: none;
            transform: scale(1.3);
        }

        @keyframes pulse-star {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .delete-button {
            background: linear-gradient(135deg, #FF4D4D, #CC0000);
            color: white;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.8rem;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 5px;
            border: none;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
        }

        .delete-button:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(255, 77, 77, 0.4);
        }

        .search-date {
            font-size: 0.8rem;
            color: #657786;
            min-width: 120px;
            text-align: right;
        }

        .dark-mode .search-date {
            color: #8b98a5;
        }

        .clear-all {
            width: 100%;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .clear-all:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        /* QR Modal */
        .qr-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .qr-content {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .qr-content h3 {
            margin-bottom: 15px;
            color: #00ACEE;
        }

        /* Toast Mesajlarƒ± */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            border-radius: 8px;
            color: white;
            z-index: 1000;
            animation: fadeIn 0.3s, fadeOut 0.3s 2.7s;
        }
        .toast-success { background: #4CAF50; }
        .toast-error { background: #FF5252; }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Animasyonlar */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Floating Action Button */
        .fab-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00ACEE, #0066FF);
            color: white;
            border: none;
            box-shadow: 0 6px 20px rgba(0, 172, 238, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }

        .fab-button.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .fab-button:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 172, 238, 0.4);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8rem;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #00ACEE;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive Tasarƒ±m */
        @media (max-width: 1024px) {
            body {
                flex-wrap: wrap;
                padding: 15px;
            }

            .left-panel,
            .right-panel {
                width: 100%;
                margin-bottom: 20px;
            }

            .main-content {
                margin: 0;
                padding: 20px;
            }

            .form-container h2 {
                font-size: 2rem;
                flex-direction: column;
                gap: 8px;
            }

            .search-query-and-dates,
            .search-filters,
            .settings-row,
            .form-buttons {
                flex-wrap: wrap;
            }

            .search-query-and-dates .search-query,
            .search-query-and-dates .date-range {
                flex: 100%;
            }

            #map {
                height: 350px;
            }

            .bottom-column li {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .bottom-column li > div:first-of-type {
                width: 100%;
            }

            .search-date {
                text-align: left;
                min-width: auto;
            }

            .bottom-column li > button {
                align-self: flex-end;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 15px;
            }

            .form-container h2 {
                font-size: 1.8rem;
            }

            input[type="date"] {
                width: 100%;
            }

            .stats-card {
                min-width: 100%;
            }

            .search-filters button {
                flex: 1 0 45%;
                margin-bottom: 10px;
            }

            #map {
                height: 300px;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 10px;
            }

            .form-container h2 {
                font-size: 1.5rem;
            }

            button {
                padding: 10px 12px;
                font-size: 0.8rem;
            }

            #map {
                height: 250px;
            }

            .bottom-column h2 {
                font-size: 1.2rem;
            }

            .bottom-column ul {
                max-height: 200px;
            }

            .notes-section h3,
            .followed-accounts-section h3 {
                font-size: 1rem;
            }
        }

        /* Yarƒ±√ßap Se√ßim Grubu */
        .radius-selection {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 5px;
            margin-bottom: 5px; /* Alt bo≈üluƒüu azalt */
        }

        #saveDefaultSettings {
            margin-top: 5px; /* √úst bo≈üluƒüu azalt */
            width: 100%;
            padding: 12px 16px;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 15px; /* Alt bo≈üluƒüu artƒ±r */
        }

        /* Hakkƒ±nda S√ºtunu */
        .about-section {
            margin-top: 10px;
            padding: 15px; /* Daha k√º√ß√ºk padding */
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(240, 242, 245, 0.9), rgba(210, 230, 250, 0.9));
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            font-size: 0.85rem; /* Daha k√º√ß√ºk yazƒ± boyutu */
            color: #566370;
            line-height: 1.6; /* Daha sƒ±kƒ± satƒ±r aralƒ±ƒüƒ± */
            text-align: justify;
            border-left: 4px solid #00ACEE;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .about-section h3 {
            margin: 0 0 10px 0; /* Daha k√º√ß√ºk alt bo≈üluk */
            font-size: 1.2rem; /* Daha k√º√ß√ºk ba≈ülƒ±k boyutu */
            font-weight: bold;
            color: #00ACEE;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }

        .about-section p {
            margin: 8px 0; /* Daha k√º√ß√ºk paragraf bo≈üluƒüu */
        }

        .dark-mode .about-section {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.9), rgba(40, 40, 40, 0.9));
            color: #e7e9ea;
            border-left: 6px solid #7937e0;
        }

        .dark-mode .about-section::before {
            background: radial-gradient(circle at top left, rgba(121, 55, 224, 0.1), transparent 70%);
        }

        .twitter-icon {
            animation: blink 1s infinite;
            color: #00ACEE;
            font-size: 1.5rem;
            text-shadow: 0 0 10px rgba(0, 172, 238, 0.8);
        }

        @keyframes blink {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        /* Notlar i√ßin yeni stiller */
        .notes-section {
            margin-top: 20px;
            padding: 15px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(245,248,250,0.9));
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            color: #566370;
            line-height: 1.5;
            transition: all 0.3s ease;
        }

        .dark-mode .notes-section {
            background: linear-gradient(135deg, rgba(30,30,30,0.9), rgba(40,40,40,0.9));
            color: #e7e9ea;
        }

        .notes-section h3 {
            margin: 0 0 15px 0;
            font-size: 1.2rem;
            font-weight: bold;
            color: #00ACEE;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notes-list {
            list-style: none;
            padding: 0;
            margin: 0;
            max-height: 200px;
            overflow-y: auto;
        }

        .note-item {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: rgba(255,255,255,0.7);
            border-left: 3px solid #00ACEE;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark-mode .note-item {
            background: rgba(30,30,30,0.7);
        }

        .note-text {
            flex: 1;
            word-break: break-word;
        }

        .note-actions {
            display: flex;
            gap: 5px;
        }

        .note-actions button {
            padding: 5px 8px;
            font-size: 0.8rem;
            border-radius: 6px;
        }

        .add-note-btn {
            width: 100%;
            margin-top: 10px;
        }

        .note-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .note-modal-content {
            background: white;
            padding: 20px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
        }

        .dark-mode .note-modal-content {
            background: #333;
            color: #e7e9ea;
        }

        .note-modal textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .dark-mode .note-modal textarea {
            background: #444;
            color: #fff;
            border-color: #555;
        }

        .note-modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        /* Yeni eklenen filtre butonlarƒ± i√ßin √∂zel stiller */
        .search-filters button[data-filter="news"] i {
            color: #FF6347;
        }
        .search-filters button[data-filter="verified"] i {
            color: #1DA1F2;
        }
        .search-filters button[data-filter="mentions"] i {
            color: #FFD700;
        }
        .search-filters button[data-filter="from_account"] i {
            color: #9370DB;
        }
        .search-filters button[data-filter="to_account"] i {
            color: #32CD32;
        }

        /* Takip Edilen Hesaplar i√ßin Stil */
        .followed-accounts-section {
            margin-top: 20px;
            padding: 15px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(245,248,250,0.9));
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            color: #566370;
            line-height: 1.5;
            transition: all 0.3s ease;
        }

        .dark-mode .followed-accounts-section {
            background: linear-gradient(135deg, rgba(30,30,30,0.9), rgba(40,40,40,0.9));
            color: #e7e9ea;
        }

        .followed-accounts-section h3 {
            margin: 0 0 15px 0;
            font-size: 1.2rem;
            font-weight: bold;
            color: #00ACEE;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .followed-accounts-list {
            list-style: none;
            padding: 0;
            margin: 0;
            max-height: 200px;
            overflow-y: auto;
        }

        .followed-accounts-list .note-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(245, 248, 250, 0.9));
            border-left: 4px solid #00ACEE;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .followed-accounts-list .note-item:hover {
            transform: translateY(-3px);
            background: white;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #7937e0;
        }

        .followed-accounts-list .note-text {
            font-weight: bold;
            font-size: 1rem;
            color: #0F1419;
            flex: 1;
            word-break: break-word;
        }

        .followed-accounts-list .note-actions {
            display: flex;
            gap: 10px;
        }

        .followed-accounts-list .note-actions button {
            padding: 8px 12px;
            font-size: 0.85rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .followed-accounts-list .note-actions button:hover {
            transform: scale(1.1);
        }

        /* Karanlƒ±k Mod i√ßin Stil */
        .dark-mode .followed-accounts-list .note-item {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.9), rgba(40, 40, 40, 0.9));
            border-left: 4px solid #444;
            color: #e7e9ea;
        }

        .dark-mode .followed-accounts-list .note-item:hover {
            background: #333;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            border-left: 4px solid #7937e0;
        }

        .dark-mode .followed-accounts-list .note-text {
            color: #e7e9ea;
        }

        .followed-accounts-list .note-text {
            flex: 1;
            word-break: break-word;
        }

        .followed-accounts-list .note-actions {
            display: flex;
            gap: 5px;
        }

        .followed-accounts-list .note-actions button {
            padding: 5px 8px;
            font-size: 0.8rem;
            border-radius: 6px;
        }

        .add-note-btn {
            width: 100%;
            margin-top: 10px;
        }

        /* Takip Edilen Hesaplar ve Notlar Ba≈ülƒ±klarƒ± */
        .followed-accounts-section h2,
        .notes-section h2 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #00ACEE;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 10px;
            letter-spacing: 0.5px;
        }

        .followed-accounts-section h2:first-child,
        .notes-section h2:first-child {
            margin-top: 0;
        }

        .followed-accounts-section h2:not(:first-child),
        .notes-section h2:not(:first-child) {
            margin-top: 30px;
        }

        /* Notlar Listesi */
        .notes-list .note-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(245, 248, 250, 0.9));
            border-left: 4px solid #00ACEE;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .notes-list .note-item:hover {
            transform: translateY(-3px);
            background: white;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #7937e0;
        }

        .notes-list .note-text {
            font-weight: bold;
            font-size: 1rem;
            color: #0F1419;
            flex: 1;
            word-break: break-word;
        }

        .notes-list .note-actions {
            display: flex;
            gap: 10px;
        }

        .notes-list .note-actions button {
            padding: 8px 12px;
            font-size: 0.85rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .notes-list .note-actions button:hover {
            transform: scale(1.1);
        }

        /* Karanlƒ±k Mod i√ßin Stil */
        .dark-mode .notes-list .note-item {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.9), rgba(40, 40, 40, 0.9));
            border-left: 4px solid #444;
            color: #e7e9ea;
        }

        .dark-mode .notes-list .note-item:hover {
            background: #333;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            border-left: 4px solid #7937e0;
        }

        .dark-mode .notes-list .note-text {
            color: #e7e9ea;
        }

        .search-filters-container {
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px;
            background: #f9f9f9;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
            margin-top: 0; /* √úst bo≈üluƒüu sƒ±fƒ±rla */
        }

        .dark-mode .search-filters-container {
            background: #333;
            border-color: #444;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .search-filters-container:hover {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        }

        .search-filters-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #00ACEE;
            margin: 0; /* T√ºm margin deƒüerlerini sƒ±fƒ±rla */
            margin-bottom: 15px; /* Alt bo≈üluƒüu koru */
            display: flex;
            align-items: center;
            gap: 8px;
            text-transform: uppercase;
        }

        #defaultSettingsInfo {
            margin-bottom: 5px; /* Alt bo≈üluƒüu azalt */
            font-size: 0.9rem; /* Yazƒ± boyutunu k√º√ß√ºlt */
            line-height: 1.4; /* Satƒ±r y√ºksekliƒüini ayarla */
        }

        .search-filters button[data-filter="sensitive"] {
            background-color: #FFCCCC;
            border: 1px solid #FF0000;
        }

        .search-filters button[data-filter="sensitive"]:hover {
            background-color: #FF9999;
        }

        .emoji-btn {
            font-size: 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            margin: 5px;
            transition: transform 0.2s ease;
        }

        .emoji-btn:hover {
            transform: scale(1.2);
        }

        /* Arama Terimi Butonunu Geni≈ület */
        .search-query input[type="text"] {
            flex: 10; /* 10 birim geni≈ülik */
            max-width: 100%; /* Ta≈ümayƒ± √∂nlemek i√ßin maksimum geni≈ülik */
        }

        /* Tooltip stili */
        .tooltip-container {
            position: relative;
            display: inline-block;
        }

        .tooltip-container .tooltip-text {
            visibility: hidden;
            width: max-content;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Butonun √ºst√ºnde g√∂r√ºnecek */
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85rem;
        }

        .tooltip-container:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        #defaultCity, #defaultRadius {
            font-size: 0.9rem; /* Yazƒ± boyutunu k√º√ß√ºlt */
            font-weight: normal; /* Yazƒ± kalƒ±nlƒ±ƒüƒ±nƒ± azalt */
        }

        /* Bilgiler Modal Stili */
        #guideModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        #guideModal .qr-content {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            max-width: 500px;
            width: 90%;
        }

        #emojiPicker {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
            gap: 10px;
            padding: 15px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-height: 300px;
            overflow-y: auto;
            width: 300px;
        }

        .emoji-btn {
            font-size: 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .emoji-btn:hover {
            transform: scale(1.2);
            background: rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
    </div>

    <!-- Sol Panel (Ayarlar) -->
    <div class="left-panel">
        <!-- Ayarlar Ba≈ülƒ±ƒüƒ± -->
        <div class="settings-header">
            <h2><i class="ri-settings-3-line"></i> AYARLAR</h2>
        </div>

        <!-- Dark Mode Butonu -->
        <button type="button" id="toggleDarkMode" class="secondary-btn"><i class="ri-moon-line"></i> DARK MODE</button>

         <!-- IP ve Lokasyon Bilgisi Butonu -->
         <button type="button" id="showIpInfo" class="info-btn">
            <i class="ri-global-line"></i> ƒ∞P & LOKASYON
        </button>

        <!-- G√ºncel Tarih ve Saat Butonu -->
        <button type="button" id="showDateTime" class="info-btn">
            <i class="ri-calendar-line"></i> TARƒ∞H & SAAT
        </button>

        <!-- Konumum Butonu -->
        <button type="button" id="showMyLocation" class="info-btn">
            <i class="ri-map-pin-line"></i> KONUMUM
        </button>

        <!-- Bilgiler Butonu -->
        <button type="button" id="showGuide" class="info-btn">
            <i class="ri-question-line"></i> Bƒ∞LGƒ∞LER
        </button>

        <!-- Ayarlar S√ºtunu (Tek Sƒ±ra) -->
        <div class="settings-row">
            <div class="city-selection input-group" style="margin-bottom: 3px;">
                <label for="city"><i class="ri-map-pin-line"></i> ƒ∞L SE√áƒ∞N</label>
                <select id="city" name="city" required>
                    <option value="">Bƒ∞R ƒ∞L SE√áƒ∞N</option>
                    <option value="37.0000,35.3213">ADANA</option>
                    <option value="37.7641,38.2762">ADIYAMAN</option>
                    <option value="38.7636,30.5406">AFYONKARAHƒ∞SAR</option>
                    <option value="39.7191,43.0503">AƒûRI</option>
                    <option value="38.3687,34.0370">AKSARAY</option>
                    <option value="40.6499,35.8353">AMASYA</option>
                    <option value="39.9208,32.8541">ANKARA</option>
                    <option value="36.8841,30.7056">ANTALYA</option>
                    <option value="41.1105,42.7022">ARDAHAN</option>
                    <option value="41.1828,41.8183">ARTVƒ∞N</option>
                    <option value="37.8443,27.8458">AYDIN</option>
                    <option value="39.6484,27.8826">BALIKESƒ∞R</option>
                    <option value="41.6344,32.3374">BARTIN</option>
                    <option value="37.8812,41.1351">BATMAN</option>
                    <option value="40.2552,40.2249">BAYBURT</option>
                    <option value="40.1426,29.9793">Bƒ∞LECƒ∞K</option>
                    <option value="38.8843,40.4962">Bƒ∞NG√ñL</option>
                    <option value="38.4006,42.1098">Bƒ∞TLƒ∞S</option>
                    <option value="40.7325,31.6082">BOLU</option>
                    <option value="37.7186,30.2833">BURDUR</option>
                    <option value="40.1826,29.0669">BURSA</option>
                    <option value="40.1553,26.4142">√áANAKKALE</option>
                    <option value="40.6002,33.6164">√áANKIRI</option>
                    <option value="40.5506,34.9556">√áORUM</option>
                    <option value="37.7765,29.0864">DENƒ∞ZLƒ∞</option>
                    <option value="37.9144,40.2306">Dƒ∞YARBAKIR</option>
                    <option value="40.8399,31.1625">D√úZCE</option>
                    <option value="41.6736,26.5586">EDƒ∞RNE</option>
                    <option value="38.6810,39.2264">ELAZIƒû</option>
                    <option value="39.7500,39.5000">ERZƒ∞NCAN</option>
                    <option value="39.9000,41.2700">ERZURUM</option>
                    <option value="39.7767,30.5206">ESKƒ∞≈ûEHƒ∞R</option>
                    <option value="37.0662,37.3833">GAZƒ∞ANTEP</option>
                    <option value="40.9128,38.3895">Gƒ∞RESUN</option>
                    <option value="40.4603,39.4814">G√úM√ú≈ûHANE</option>
                    <option value="37.5833,43.7333">HAKKARƒ∞</option>
                    <option value="36.4018,36.3498">HATAY</option>
                    <option value="39.9167,44.0333">IƒûDIR</option>
                    <option value="37.7648,30.5566">ISPARTA</option>
                    <option value="41.0082,28.9784">ƒ∞STANBUL</option>
                    <option value="38.4189,27.1287">ƒ∞ZMƒ∞R</option>
                    <option value="37.5833,36.9333">KAHRAMANMARA≈û</option>
                    <option value="41.2061,32.6204">KARAB√úK</option>
                    <option value="37.1819,33.2158">KARAMAN</option>
                    <option value="40.6167,43.1000">KARS</option>
                    <option value="41.3765,33.7765">KASTAMONU</option>
                    <option value="38.7316,35.4787">KAYSERƒ∞</option>
                    <option value="39.8468,33.5153">KIRIKKALE</option>
                    <option value="41.7333,27.2167">KIRKLARELƒ∞</option>
                    <option value="39.1425,34.1709">KIR≈ûEHƒ∞R</option>
                    <option value="36.7164,37.1156">Kƒ∞Lƒ∞S</option>
                    <option value="40.8533,29.8815">KOCAELƒ∞</option>
                    <option value="37.8667,32.4833">KONYA</option>
                    <option value="39.4167,29.9833">K√úTAHYA</option>
                    <option value="38.3554,38.3335">MALATYA</option>
                    <option value="38.6191,27.4289">MANƒ∞SA</option>
                    <option value="37.3122,40.7356">MARDƒ∞N</option>
                    <option value="36.8000,34.6333">MERSƒ∞N</option>
                    <option value="37.2153,28.3636">MUƒûLA</option>
                    <option value="38.7333,41.4911">MU≈û</option>
                    <option value="38.6264,34.7139">NEV≈ûEHƒ∞R</option>
                    <option value="37.9667,34.6833">Nƒ∞ƒûDE</option>
                    <option value="40.9833,37.8833">ORDU</option>
                    <option value="37.0681,36.2616">OSMANƒ∞YE</option>
                    <option value="41.0208,40.5219">Rƒ∞ZE</option>
                    <option value="40.7833,30.4000">SAKARYA</option>
                    <option value="41.2928,36.3314">SAMSUN</option>
                    <option value="37.9333,41.9500">Sƒ∞ƒ∞RT</option>
                    <option value="42.0267,35.1506">Sƒ∞NOP</option>
                    <option value="39.7500,37.0167">Sƒ∞VAS</option>
                    <option value="37.1583,38.7917">≈ûANLIURFA</option>
                    <option value="37.5167,42.4500">≈ûIRNAK</option>
                    <option value="40.9833,27.5167">TEKƒ∞RDAƒû</option>
                    <option value="40.3167,36.5500">TOKAT</option>
                    <option value="41.0015,39.7178">TRABZON</option>
                    <option value="39.1000,39.5333">TUNCELƒ∞</option>
                    <option value="38.6823,29.4082">U≈ûAK</option>
                    <option value="38.4942,43.3800">VAN</option>
                    <option value="40.6500,29.2667">YALOVA</option>
                    <option value="39.8200,34.8044">YOZGAT</option>
                    <option value="41.4564,31.7987">ZONGULDAK</option>
                </select>
            </div>

            <div class="radius-selection input-group">
                <label for="radius"><i class="ri-ruler-line"></i> YARI√áAP (KM)</label>
                <select id="radius" name="radius" required>
                    <option value="">SE√áƒ∞N</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="75">75</option>
                    <option value="100">100</option>
                    <option value="125">125</option>
                    <option value="150">150</option>
                    <option value="175">175</option>
                    <option value="200">200</option>
                    <option value="250">250</option>
                    <option value="300">300</option>
                    <option value="350">350</option>
                    <option value="400">400</option>
                    <option value="450">450</option>
                    <option value="500">500</option>
                    <option value="600">600</option>
                    <option value="700">700</option>
                    <option value="800">800</option>
                    <option value="900">900</option>
                    <option value="1000">1000</option>
                </select>
            </div>
            <button type="button" id="saveDefaultSettings" class="success-btn">
                <i class="ri-save-line"></i> KAYDET
            </button>

            <div class="settings-info modern-info" id="defaultSettingsInfo">
                <i class="ri-map-pin-2-fill modern-icon"></i>
                <span id="defaultCity" class="modern-city">GAZƒ∞ANTEP</span>
                <span class="modern-separator">-</span>
                <span id="defaultRadius" class="modern-radius">100 KM</span>
            </div>
        </div>

        <!-- IP ve Lokasyon Bilgisi Modal -->
        <div id="ipInfoModal" class="qr-modal" style="display: none;">
            <div class="qr-content">
                <h3>ƒ∞P & LOKASYON Bƒ∞LGƒ∞LERƒ∞</h3>
                <p><strong>IP:</strong> <span id="ipAddress">Y√ºkleniyor...</span></p>
                <p><strong>Port:</strong> <span id="port">Y√ºkleniyor...</span></p>
                <p><strong>≈ûehir:</strong> <span id="cityName">Y√ºkleniyor...</span></p>
                <p><strong>Koordinatlar:</strong> <span id="coordinates">Y√ºkleniyor...</span></p>
                <button class="danger-btn" id="closeIpInfoModal">Kapat</button>
            </div>
        </div>

        <!-- Tarih ve Saat Modal -->
        <div id="dateTimeModal" class="qr-modal" style="display: none;">
            <div class="qr-content">
                <h3>G√úNCEL TARƒ∞H & SAAT</h3>
                <p><strong>Tarih:</strong> <span id="currentDate">Y√ºkleniyor...</span></p>
                <p><strong>Saat:</strong> <span id="currentTime">Y√ºkleniyor...</span></p>
                <button class="danger-btn" id="closeDateTimeModal">Kapat</button>
            </div>
        </div>
        
        <!-- Hakkƒ±nda S√ºtunu -->
        <div class="about-section">
            <h3 id="aboutToggle" style="cursor: pointer;">
                <i class="ri-information-line"></i>HAKKINDA
                <i class="ri-arrow-down-s-line" id="aboutArrow" style="float: right;"></i>
            </h3>
            <div id="aboutContent" style="display: none;">
                <p>
                    Bu uygulama, Twitter √ºzerinde konumsal arama yapmanƒ±za olanak saƒülar. 
                    Se√ßtiƒüiniz ≈üehir ve yarƒ±√ßap doƒürultusunda aradƒ±gƒ±nƒ±z payla≈üƒ±mlarƒ± bulabilirsiniz.
                </p>
                <p>
                    Geli≈ütirici: <strong>Mevl√ºt AKDAƒû</strong><br>
                    S√ºr√ºm: <strong>27.07</strong>
                </p>
            </div>
        </div>
    </div>

    <!-- Ana ƒ∞√ßerik -->
    <div class="main-content">
        <!-- Arama Formu -->
        <div class="form-container">
            <!-- Arama Ba≈ülƒ±ƒüƒ± -->
            <h2>
                <i class="ri-twitter-fill" style="color: #00ACEE; font-size: 2.5rem;"></i>
                <span class="search-engine-text">X KONUMSAL ARAMA MOTORU</span>
            </h2>

            <!-- Arama Formu -->
            <form id="searchForm">
                <!-- Arama Terimi ve Tarih Aralƒ±ƒüƒ± -->
                <div class="search-query-and-dates">
                    <div class="search-query input-group">
                        <label for="searchQuery"><i class="ri-search-line"></i> ARAMA TERƒ∞Mƒ∞</label>
                        <input type="text" id="searchQuery" name="searchQuery" placeholder="L√ºtfen aramak isteginiz kelimeyi giriniz." required>
                    </div>
                    <div class="date-range">
                        <div class="input-group">
                            <label for="startDate"><i class="ri-calendar-line"></i> BA≈ûLANGI√á TARƒ∞Hƒ∞</label>
                            <input type="date" id="startDate" name="startDate" aria-label="Ba≈ülangƒ±√ß tarihi">
                        </div>
                        <div class="input-group">
                            <label for="endDate"><i class="ri-calendar-line"></i> Bƒ∞Tƒ∞≈û TARƒ∞Hƒ∞</label>
                            <input type="date" id="endDate" name="endDate" aria-label="Biti≈ü tarihi">
                        </div>
                    </div>
                </div>

                <!-- Arama Filtreleri -->
                <div class="search-filters-container">
                    <h3 class="search-filters-title"><i class="ri-filter-line"></i> ARAMA Fƒ∞LTRELERƒ∞</h3>
                    <div class="search-filters">
                        <button type="button" data-filter="latest" style="color: #00ACEE;" aria-label="En son tweetleri ara"><i class="ri-time-fill"></i> EN SON</button>
                        <button type="button" data-filter="hashtag" style="color: #1DA1F2;" aria-label="Hashtag ara"><i class="ri-hashtag"></i> HASHTAGLAR</button>
                        <button type="button" data-filter="replies" style="color: #FFA500;" aria-label="Yorumlarƒ± ara"><i class="ri-chat-3-fill"></i> YORUMLAR</button>
                        <button type="button" data-filter="news" style="color: #FF6347;" aria-label="Haber tweetlerini ara"><i class="ri-newspaper-line"></i> HABERLER</button>
                        <button type="button" data-filter="mentions" style="color: #FFD700;" aria-label="Bahsetmeleri ara"><i class="ri-at-line"></i> BAHSETMELER</button>
                        <button type="button" data-filter="link" style="color: #FF4500;" aria-label="Link i√ßeren tweetleri ara"><i class="ri-links-line"></i> Lƒ∞NKLER</button>
                        <button type="button" data-filter="images" style="color: #FF69B4;" aria-label="Resim i√ßeren tweetleri ara"><i class="ri-image-line"></i> RESƒ∞MLER</button>
                        <button type="button" data-filter="videos" style="color: #FF4500;" aria-label="Video i√ßeren tweetleri ara"><i class="ri-video-line"></i> Vƒ∞DEOLAR</button>
                        <button type="button" id="attitudeButton" style="color: #FF69B4;" aria-label="Tutum ekle"><i class="ri-emotion-line"></i> EMOJƒ∞LER</button>
                        <button type="button" data-filter="sensitive" style="color: #FF0000;" aria-label="Hassas i√ßerikleri ara"><i class="ri-alert-line"></i> HASSAS ƒ∞√áERƒ∞K</button>
                        <button type="button" data-filter="verified" style="color: #025bff;" aria-label="Onaylanmƒ±≈ü hesaplarƒ± ara"><i class="ri-check-double-line"></i> ONAYLANMI≈û HESAP</button>
                        <button type="button" data-filter="from_account" style="color: #9370DB;" aria-label="Hesaptan atƒ±lan tweetleri ara"><i class="ri-send-plane-line"></i> HESAPTAN ATILAN</button>
                        <button type="button" data-filter="to_account" style="color: #32CD32;" aria-label="Hesaba atƒ±lan tweetleri ara"><i class="ri-inbox-archive-line"></i> HESABA ATILMI≈û</button>
                    </div>
                </div>

                <!-- Emoji Se√ßim Kutusu -->
                <div id="emojiPicker" style="display: none; position: absolute; background: white; border: 1px solid #ddd; border-radius: 8px; padding: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); z-index: 1000; max-height: 300px; overflow-y: auto; width: 300px; grid-template-columns: repeat(auto-fill, minmax(40px, 1fr)); gap: 10px;">
                    <!-- T√ºm emojiler -->
                    <button class="emoji-btn">üòä</button>
                    <button class="emoji-btn">üò¢</button>
                    <button class="emoji-btn">üò°</button>
                    <button class="emoji-btn">üòÇ</button>
                    <button class="emoji-btn">‚ù§Ô∏è</button>
                    <button class="emoji-btn">üòá</button>
                    <button class="emoji-btn">ü•≥</button>
                    <button class="emoji-btn">ü§©</button>
                    <button class="emoji-btn">ü§î</button>
                    <button class="emoji-btn">ü§®</button>
                    <button class="emoji-btn">üòê</button>
                    <button class="emoji-btn">üòë</button>
                    <button class="emoji-btn">üò∂</button>
                    <button class="emoji-btn">üôÑ</button>
                    <button class="emoji-btn">üòè</button>
                    <button class="emoji-btn">üò£</button>
                    <button class="emoji-btn">üò•</button>
                    <button class="emoji-btn">üòÆ</button>
                    <button class="emoji-btn">ü§ê</button>
                    <button class="emoji-btn">üòØ</button>
                    <button class="emoji-btn">üò™</button>
                    <button class="emoji-btn">üò´</button>
                    <button class="emoji-btn">ü•±</button>
                    <button class="emoji-btn">üò¥</button>
                    <button class="emoji-btn">üòå</button>
                    <button class="emoji-btn">üòõ</button>
                    <button class="emoji-btn">üòú</button>
                    <button class="emoji-btn">üòù</button>
                    <button class="emoji-btn">ü§§</button>
                    <button class="emoji-btn">üòí</button>
                    <button class="emoji-btn">üòì</button>
                    <button class="emoji-btn">üòî</button>
                    <button class="emoji-btn">üòï</button>
                    <button class="emoji-btn">üôÉ</button>
                    <button class="emoji-btn">ü§ë</button>
                    <button class="emoji-btn">üò≤</button>
                    <button class="emoji-btn">‚òπÔ∏è</button>
                    <button class="emoji-btn">üôÅ</button>
                    <button class="emoji-btn">üòñ</button>
                    <button class="emoji-btn">üòû</button>
                    <button class="emoji-btn">üòü</button>
                    <button class="emoji-btn">üò§</button>
                    <button class="emoji-btn">üò¢</button>
                    <button class="emoji-btn">üò≠</button>
                    <button class="emoji-btn">üò¶</button>
                    <button class="emoji-btn">üòß</button>
                    <button class="emoji-btn">üò®</button>
                    <button class="emoji-btn">üò©</button>
                    <button class="emoji-btn">ü§Ø</button>
                    <button class="emoji-btn">üò¨</button>
                    <button class="emoji-btn">üò∞</button>
                    <button class="emoji-btn">üò±</button>
                    <button class="emoji-btn">ü•µ</button>
                    <button class="emoji-btn">ü•∂</button>
                    <button class="emoji-btn">üò≥</button>
                    <button class="emoji-btn">ü§™</button>
                    <button class="emoji-btn">üòµ</button>
                    <button class="emoji-btn">üò°</button>
                    <button class="emoji-btn">üò†</button>
                    <button class="emoji-btn">ü§¨</button>
                    <button class="emoji-btn">üò∑</button>
                    <button class="emoji-btn">ü§í</button>
                    <button class="emoji-btn">ü§ï</button>
                    <button class="emoji-btn">ü§¢</button>
                    <button class="emoji-btn">ü§Æ</button>
                    <button class="emoji-btn">ü§ß</button>
                    <button class="emoji-btn">üòá</button>
                    <button class="emoji-btn">ü•≥</button>
                </div>

                <!-- Arama Butonlarƒ± -->
                <div class="form-buttons">
                    <button type="button" id="resetSearch" class="danger-btn" aria-label="Aramayƒ± sƒ±fƒ±rla"><i class="ri-refresh-line"></i> ARAMA SIFIRLA</button>
                    <button type="button" id="copySearchLink" class="secondary-btn" aria-label="Arama baƒülantƒ±sƒ±nƒ± kopyala"><i class="ri-links-line"></i> URL KOPYALA</button>
                    <button type="button" id="generateQR" class="success-btn" aria-label="QR kodu olu≈ütur"><i class="ri-qr-code-line"></i> QR KOD</button>
                    <button type="button" id="last24HoursBtn" class="info-btn" aria-label="Son 24 saat"><i class="ri-time-line"></i> SON 24 SAAT</button>
                    <button type="submit" class="primary-btn pulse-animation" aria-label="Arama yap"><i class="ri-search-line"></i> ARAMA YAP</button>
                    <button type="button" id="enableMapSelect" class="info-btn" style="width:auto;"><i class="ri-map-pin-add-line"></i> HARƒ∞TADAN KONUM SE√á</button>
                    <button type="button" id="cancelMapSelect" class="danger-btn" style="width:auto; display:none;"><i class="ri-close-line"></i> ƒ∞PTAL ET</button>
                    <button id="selectedMapLocation" style="margin-left:10px; color:#ff0015; font-weight:bold; display:none;">SE√áƒ∞LEN KONUM:<span id="selectedLatLng"></span><span id="selectedCountry" style="margin-left:8px; color:#0066FF;"></span></button>
                </div>
                <!-- ƒ∞statistik Kartlarƒ± -->
            <div class="stats-container">
                <div class="stats-card">
                    <i class="ri-twitter-fill" style="color: #00ACEE;"></i>
                    <div>
                        <span class="count">0</span>
                        <span>TWEET BULUNDU</span>
                    </div>
                </div>
                <div class="stats-card">
                    <i class="ri-user-3-fill" style="color: #7937e0;"></i>
                    <div>
                        <span class="count">0</span>
                        <span>KULLANICI SAYISI</span>
                    </div>
                </div>
                <div class="stats-card">
                    <i class="ri-map-pin-2-fill" style="color: #FF4500;"></i>
                    <div>
                        <span class="count" id="statsRadius">100 KM</span>
                        <span id="statsCity" style="font-size:0.95rem; color:#7937e0; font-weight:600; margin-top:2px; display:block;">GAZƒ∞ANTEP</span>
                        <span>ARAMA YARI√áAPI</span>
                    </div>
                </div>
            </div>
                <!-- Harita -->
                <div id="map" aria-label="Arama b√∂lgesini g√∂steren harita"></div>
            </form>
        </div>
    </div>

    <!-- Saƒü Panel (Son Aramalar ve Favoriler) -->
    <div class="right-panel">
        <div class="bottom-column">
            <!-- Favori Aramalar -->
            <h2><i class="ri-star-line"></i> FAVORƒ∞ ARAMALAR</h2>
            <ul id="favoriteSearchesList">
                <li>
                    <div style="width:100%; text-align:center; padding:15px; color:#657786;">FAVORƒ∞ ARAMA YOK</div>
                </li>
            </ul>
            <button class="clear-all danger-btn" id="clearAllFavorites" aria-label="T√ºm favorileri temizle"><i class="ri-delete-bin-line"></i> FAVORƒ∞ ARAMALARI TEMƒ∞ZLE</button>

            <!-- Son Aramalar -->
            <h2><i class="ri-history-line"></i> SON ARAMALAR</h2>
            <ul id="recentSearchesList">
                <li>
                    <div style="width:100%; text-align:center; padding:15px; color:#657786;">ARAMA GE√áMƒ∞≈ûƒ∞ YOK</div>
                </li>
            </ul>
            <button class="clear-all danger-btn" id="clearAllRecent" aria-label="T√ºm son aramalarƒ± temizle"><i class="ri-delete-bin-line"></i> SON ARAMALARI TEMƒ∞ZLE</button>
        </div>

        <!-- Takip Edilen Hesaplar B√∂l√ºm√º -->
        <div class="followed-accounts-section notes-section">
            <h2><i class="ri-user-follow-line"></i> TAKƒ∞P EDƒ∞LENLER</h2>
            <ul class="notes-list followed-accounts-list" id="followedAccountsList">
                <!-- Takip edilen hesaplar buraya eklenecek -->
            </ul>
            <button class="add-note-btn primary-btn" id="addAccountBtn"><i class="ri-add-line"></i> HESAP/URL EKLE</button>
        </div>

        <!-- Notlar B√∂l√ºm√º -->
        <div class="notes-section">
            <h2><i class="ri-sticky-note-line"></i> NOTLAR</h2>
            <ul class="notes-list" id="notesList">
                <!-- Notlar buraya eklenecek -->
            </ul>
            <button class="add-note-btn primary-btn" id="addNoteBtn"><i class="ri-add-line"></i> NOT EKLE</button>
        </div>
    </div>

    <!-- Floating Action Button -->
    <button class="fab-button" id="scrollToTop" aria-label="Yukarƒ± √ßƒ±k">
        <i class="ri-arrow-up-line"></i>
    </button>

    <!-- Confetti Canvas (Gizli) -->
    <canvas id="confetti-canvas" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;display:none;"></canvas>

    <!-- Not Ekle/D√ºzenle Modal -->
    <div id="noteModal" class="note-modal" style="display: none;">
        <div class="note-modal-content">
            <h3 id="noteModalTitle">YENƒ∞ NOT EKLE</h3>
            <textarea id="noteText" placeholder="Notunuzu buraya yazƒ±n..."></textarea>
            <div class="note-modal-buttons">
                <button class="danger-btn" id="cancelNoteBtn">ƒ∞PTAL</button>
                <button class="success-btn" id="saveNoteBtn">KAYDET</button>
            </div>
        </div>
    </div>

    <!-- Takip Edilen Hesaplar Modal -->
    <div id="accountModal" class="note-modal" style="display: none;">
        <div class="note-modal-content">
            <h3 id="accountModalTitle">YENƒ∞ HESAP EKLE</h3>
            <input type="text" id="accountUrl" placeholder="Hesap URL'si (√∂r. https://twitter.com/kullanici)" required>
            <input type="text" id="accountDisplayName" placeholder="G√∂r√ºnen Ad (isteƒüe baƒülƒ±)">
            <div class="note-modal-buttons">
                <button class="danger-btn" id="cancelAccountBtn">ƒ∞PTAL</button>
                <button class="success-btn" id="saveAccountBtn">KAYDET</button>
            </div>
        </div>
    </div>

    <!-- Bilgiler Modal -->
    <div id="guideModal" class="qr-modal" style="display: none;">
        <div class="qr-content">
            <h3>Bƒ∞LGƒ∞LER</h3>
            <p>
                Bu uygulama, Twitter √ºzerinde konumsal arama yapmanƒ±za olanak saƒülar. A≈üaƒüƒ±da t√ºm √∂zelliklerin a√ßƒ±klamalarƒ± verilmi≈ütir
            </p>
            <ul style="text-align: left;">
                <li><strong>Dark Mode:</strong> Uygulamanƒ±n temasƒ±nƒ± karanlƒ±k moda ge√ßirir.</li>
                <li><strong>IP & Lokasyon:</strong> IP adresinizi ve mevcut konum bilgilerinizi g√∂sterir.</li>
                <li><strong>Tarih & Saat:</strong> G√ºncel tarih ve saat bilgisini g√∂sterir.</li>
                <li><strong>Konumum:</strong> Mevcut konumunuzu haritada g√∂sterir.</li>
                <li><strong>≈ûehir ve Yarƒ±√ßap:</strong> Arama yapƒ±lacak ≈üehir ve yarƒ±√ßapƒ± se√ßmenizi saƒülar.</li>
                <li><strong>Arama Terimi:</strong> Aramak istediƒüiniz kelime veya ifadeyi girin.</li>
                <li><strong>Arama Filtreleri:</strong> Aramanƒ±zƒ± pop√ºler, medya, hashtag gibi kategorilere g√∂re filtreler.</li>
                <li><strong>QR Kod:</strong> Arama baƒülantƒ±sƒ±nƒ± QR kod olarak olu≈üturur.</li>
                <li><strong>Son 24 Saat:</strong> Son 24 saat i√ßinde yapƒ±lan payla≈üƒ±mlarƒ± arar.</li>
                <li><strong>Son Aramalar:</strong> Daha √∂nce yaptƒ±ƒüƒ±nƒ±z aramalarƒ± g√∂r√ºnt√ºleyin.</li>
                <li><strong>Favori Aramalar:</strong> Sƒ±k kullandƒ±ƒüƒ±nƒ±z aramalarƒ± favorilere ekleyin.</li>
                <li><strong>Not Alma:</strong> √ñnemli bilgileri kaydedin ve d√ºzenleyin.</li>
                <li><strong>Takip Edilenler:</strong> √ñnemli hesaplarƒ± takip edin ve listeleyin.</li>
                <li><strong>Hashtag:</strong> Belirli bir hashtag i√ßeren tweetleri arar.</li>
                <li><strong>Yorumlar:</strong> Yorum i√ßeren tweetleri g√∂sterir.</li>
                <li><strong>Haberler:</strong> Haber i√ßeren tweetleri g√∂sterir.</li>
                <li><strong>Bahsetmeler:</strong> Belirli bir kullanƒ±cƒ±yƒ± etiketleyen tweetleri arar.</li>
                <li><strong>Linkler:</strong> Link i√ßeren tweetleri g√∂sterir.</li>
                <li><strong>Resimler:</strong> Resim i√ßeren tweetleri g√∂sterir.</li>
                <li><strong>Videolar:</strong> Video i√ßeren tweetleri g√∂sterir.</li>
                <li><strong>Hassas:</strong> Hassas i√ßerik i√ßeren tweetleri g√∂sterir.</li>
                <li><strong>Onaylanmƒ±≈ü:</strong> Onaylanmƒ±≈ü hesaplardan gelen tweetleri g√∂sterir.</li>
                <li><strong>Hesaptan Atƒ±lan:</strong> Belirli bir hesaptan atƒ±lan tweetleri arar.</li>
                <li><strong>Hesaba Atƒ±lmƒ±≈ü:</strong> Belirli bir hesaba atƒ±lan tweetleri arar.</li>
            </ul>
            <button class="danger-btn" id="closeGuideModal">Kapat</button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Dark Mode
        document.getElementById('toggleDarkMode').addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            this.innerHTML = document.body.classList.contains('dark-mode') ? 
                '<i class="ri-sun-line"></i> AYDINLIK MOD' : '<i class="ri-moon-line"></i> KARANLIK MOD';
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        });

        // Sistem temasƒ±nƒ± kontrol et ve localStorage'dan y√ºkle
        function checkDarkMode() {
            const darkModePref = localStorage.getItem('darkMode');
            const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (darkModePref === 'true' || (darkModePref === null && systemPrefersDark)) {
                document.body.classList.add('dark-mode');
                document.getElementById('toggleDarkMode').innerHTML = '<i class="ri-sun-line"></i> AYDINLIK MOD';
            } else {
                document.getElementById('toggleDarkMode').innerHTML = '<i class="ri-moon-line"></i> KARANLIK MOD';
            }
        }

        // Harita Entegrasyonu
        const map = L.map('map').setView([37.0659, 37.3781], 10);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);
        
        let circle = L.circle([37.0659, 37.3781], { 
            radius: 100 * 1000,
            color: '#FF4500',
            fillColor: '#7937e0',
            fillOpacity: 0.3,
            weight: 2,
            dashArray: '5, 5',
            className: 'pulse-circle'
        }).addTo(map);

        const bounds = circle.getBounds();
        map.fitBounds(bounds, { padding: [50, 50] });

        // Twitter simgesi i√ßin √∂zel bir Leaflet simgesi olu≈ütur
        const twitterIcon = L.divIcon({
            className: 'twitter-icon',
            html: '<i class="ri-twitter-fill"></i>',
            iconSize: [30, 30],
            iconAnchor: [15, 15]
        });

        // Twitter logolarƒ±nƒ± tutacak bir dizi
        let twitterMarkers = [];

        // Rastgele bir konum olu≈ütur ve yarƒ±√ßap i√ßinde olup olmadƒ±ƒüƒ±nƒ± kontrol et
        function getRandomLatLng(center, radius) {
            const y0 = center.lat;
            const x0 = center.lng;
            const rd = radius / 111300; // Yarƒ±√ßapƒ± metre cinsinden derecelere √ßevir

            let newLat, newLng;
            let distance;

            do {
                const u = Math.random();
                const v = Math.random();
                const w = rd * Math.sqrt(u);
                const t = 2 * Math.PI * v;
                const x = w * Math.cos(t);
                const y = w * Math.sin(t);

                newLat = y + y0;
                newLng = x + x0;

                // ƒ∞ki nokta arasƒ±ndaki mesafeyi hesapla
                distance = haversineDistance([y0, x0], [newLat, newLng]);
            } while (distance > radius); // Yarƒ±√ßap sƒ±nƒ±rƒ±nƒ± a≈üarsa tekrar hesapla

            return [newLat, newLng];
        }

        // Haversine form√ºl√º ile iki nokta arasƒ±ndaki mesafeyi hesapla
        function haversineDistance([lat1, lon1], [lat2, lon2]) {
            const R = 6371e3; // D√ºnya yarƒ±√ßapƒ± (metre)
            const œÜ1 = (lat1 * Math.PI) / 180;
            const œÜ2 = (lat2 * Math.PI) / 180;
            const ŒîœÜ = ((lat2 - lat1) * Math.PI) / 180;
            const ŒîŒª = ((lon1 - lon1) * Math.PI) / 180;

            const a =
                Math.sin(ŒîœÜ / 2) * Math.sin(ŒîœÜ / 2) +
                Math.cos(œÜ1) * Math.cos(œÜ2) * Math.sin(ŒîŒª / 2) * Math.sin(ŒîŒª / 2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));

            return R * c; // Mesafe (metre)
        }

        // Twitter logolarƒ±nƒ± haritaya ekle
        function addTwitterLogos(center, radius) {
            // √ñnceki logolarƒ± kaldƒ±r
            twitterMarkers.forEach(marker => map.removeLayer(marker));
            twitterMarkers = [];

            // Yeni logolarƒ± ekle
            for (let i = 0; i < 10; i++) { // 10 adet logo
                const [lat, lng] = getRandomLatLng(center, radius * 1000); // Yarƒ±√ßapƒ± metreye √ßevir
                const marker = L.marker([lat, lng], { icon: twitterIcon }).addTo(map);
                twitterMarkers.push(marker);
            }
        }

        // Twitter logolarƒ±nƒ± s√ºrekli hareket ettir
        let animationInterval; // Animasyon i√ßin global bir deƒüi≈üken

        function animateTwitterLogos(center, radius) {
            // √ñnceki animasyonu durdur
            if (animationInterval) {
                clearInterval(animationInterval);
                animationInterval = null;
            }

            // Yeni animasyonu ba≈ülat
            animationInterval = setInterval(() => {
                twitterMarkers.forEach(marker => {
                    const [lat, lng] = getRandomLatLng(center, radius * 1000);
                    marker.setLatLng([lat, lng]);
                });
            }, 1000); // Her 5 saniyede bir yer deƒüi≈ütir
        }

        // Harita yakƒ±nla≈ütƒ±rma seviyesine g√∂re logo sayƒ±sƒ±nƒ± ayarla
        map.on('zoomend', function () {
            const zoomLevel = map.getZoom(); // Mevcut zoom seviyesini al
            const baseLogoCount = 100; // Minimum logo sayƒ±sƒ±
            const maxLogoCount = 1000000; // Maksimum logo sayƒ±sƒ±

            // Zoom seviyesine g√∂re logo sayƒ±sƒ±nƒ± hesapla
            const logoCount = Math.min(maxLogoCount, baseLogoCount * Math.pow(2, zoomLevel - 10));

            // Eski logolarƒ± kaldƒ±r
            twitterMarkers.forEach(marker => map.removeLayer(marker));
            twitterMarkers = [];

            // Elle se√ßim varsa logolarƒ± elle se√ßilen konuma g√∂re ekle
            if (manualLocation && manualCircle) {
                for (let i = 0; i < logoCount; i++) {
                    const [lat, lng] = getRandomLatLng(manualLocation, manualCircle.getRadius());
                    const marker = L.marker([lat, lng], { icon: twitterIcon }).addTo(map);
                    twitterMarkers.push(marker);
                }
            } else {
                // Normalde ≈üehir/yarƒ±√ßap ile ekle
                for (let i = 0; i < logoCount; i++) {
                    const [lat, lng] = getRandomLatLng(circle.getLatLng(), circle.getRadius());
                    const marker = L.marker([lat, lng], { icon: twitterIcon }).addTo(map);
                    twitterMarkers.push(marker);
                }
            }
        });

        // Yarƒ±√ßap veya ≈üehir deƒüi≈ütiƒüinde logolarƒ± g√ºncelle
        document.getElementById('city').addEventListener('change', function () {
            const selectedCity = this.value;
            if (selectedCity) {
                const [lat, lng] = selectedCity.split(',').map(Number);
                const radius = document.getElementById('radius').value || 100;

                // Eski logolarƒ± kaldƒ±r
                twitterMarkers.forEach(marker => map.removeLayer(marker));
                twitterMarkers = [];

                // Yeni logolarƒ± ekle ve animasyonu ba≈ülat
                addTwitterLogos({ lat, lng }, radius);
                animateTwitterLogos({ lat, lng }, radius);
            }
        });

        document.getElementById('radius').addEventListener('change', function () {
            const cityCoordinates = document.getElementById('city').value;
            if (cityCoordinates) {
                const [lat, lng] = cityCoordinates.split(',').map(Number);
                const radius = this.value || 100;

                // Eski logolarƒ± kaldƒ±r
                twitterMarkers.forEach(marker => map.removeLayer(marker));
                twitterMarkers = [];

                // Yeni logolarƒ± ekle ve animasyonu ba≈ülat
                addTwitterLogos({ lat, lng }, radius);
                animateTwitterLogos({ lat, lng }, radius);
            }
        });

        // Sayfa y√ºklendiƒüinde varsayƒ±lan logolarƒ± ekle
        window.addEventListener('load', function () {
            const [lat, lng] = defaultSettings.city.split(',').map(Number);
            const radius = defaultSettings.radius || 100;
            addTwitterLogos({ lat, lng }, radius);
            animateTwitterLogos({ lat, lng }, radius);
        });

        // Varsayƒ±lan Ayarlarƒ± Y√ºkle
        function loadDefaultSettings() {
            try {
                const settings = localStorage.getItem('defaultSettings');
                return settings ? JSON.parse(settings) : { city: "37.0659,37.3781", radius: "100" };
            } catch (e) {
                console.error('Ayarlar y√ºklenirken hata olu≈ütu:', e);
                return { city: "37.0659,37.3781", radius: "100" };
            }
        }

        const defaultSettings = loadDefaultSettings();
        document.getElementById('city').value = defaultSettings.city;
        document.getElementById('radius').value = defaultSettings.radius;

        // Varsayƒ±lan Ayarlarƒ± G√ºncelle
        function updateDefaultSettingsInfo() {
            const settings = JSON.parse(localStorage.getItem('defaultSettings')) || { city: "37.0659,37.3781", radius: "100" };
            const cityOption = document.querySelector(`#city option[value="${settings.city}"]`);
            const defaultCity = cityOption ? cityOption.text : "GAZƒ∞ANTEP";
            const defaultRadius = settings.radius || "100";

            document.getElementById('defaultCity').textContent = defaultCity;
            document.getElementById('defaultRadius').textContent = `${defaultRadius} KM`;

            document.getElementById('statsRadius').textContent = `${defaultRadius} KM`;
            document.getElementById('statsCity').textContent = defaultCity;
        }

        // ƒ∞l Se√ßildiƒüinde Haritayƒ± G√ºncelle
        function updateMap(lat, lng, radius) {
            map.setView([lat, lng], 8);

            if (circle && map.hasLayer(circle)) map.removeLayer(circle);
            circle = L.circle([lat, lng], { 
                radius: radius * 1000,
                color: '#FF4500',
                fillColor: '#7937e0',
                fillOpacity: 0.3,
                weight: 2,
                dashArray: '5, 5',
                className: 'pulse-circle'
            }).addTo(map);

            const bounds = circle.getBounds();
            map.fitBounds(bounds, { padding: [50, 50] });

            const cityOption = document.querySelector(`#city option[value="${lat},${lng}"]`);
            const cityName = cityOption ? cityOption.text : "SE√áƒ∞Lƒ∞ KONUM";
            document.getElementById('statsRadius').textContent = `${radius} KM`;
            document.getElementById('statsCity').textContent = cityName;
            updateStats(radius);
        }

        document.getElementById('city').addEventListener('change', function() {
            const selectedCity = this.value;
            if (selectedCity) {
                const [lat, lng] = selectedCity.split(',').map(Number);
                const radius = document.getElementById('radius').value || 100;
                updateMap(lat, lng, radius);
            }
        });

        // Yarƒ±√ßap Deƒüi≈ütiƒüinde Haritayƒ± G√ºncelle
        document.getElementById('radius').addEventListener('change', function() {
            const cityCoordinates = document.getElementById('city').value;
            if (cityCoordinates) {
                const [lat, lng] = cityCoordinates.split(',').map(Number);
                const radius = this.value || 100;
                updateMap(lat, lng, radius);
            }
        });

        // localStorage kullanƒ±labilir mi kontrol√º
        function isLocalStorageAvailable() {
            try {
                localStorage.setItem('storageTest', 'test');
                if (localStorage.getItem('storageTest') !== 'test') {
                    throw new Error('localStorage √ßalƒ±≈ümƒ±yor');
                }
                localStorage.removeItem('storageTest');
                return true;
            } catch (e) {
                console.error('localStorage hatasƒ±:', e);
                return false;
            }
        }

        // Hata mesajlarƒ±nƒ± g√∂steren yardƒ±mcƒ± fonksiyon
        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Sayfa y√ºklendiƒüinde localStorage kontrol√º
        window.addEventListener('load', function() {
            if (!isLocalStorageAvailable()) {
                showToast('Tarayƒ±cƒ± depolama eri≈üimi engellendi', 'error');
            }
        });

        // Varsayƒ±lan Ayarlarƒ± Kaydet
        document.getElementById('saveDefaultSettings').addEventListener('click', function () {
            const city = document.getElementById('city').value;
            const radius = document.getElementById('radius').value;

            if (!city || !radius) {
                showToast('L√ºtfen ≈üehir ve yarƒ±√ßap se√ßin', 'error');
                return;
            }

            try {
                if (!isLocalStorageAvailable()) {
                    throw new Error('Tarayƒ±cƒ±nƒ±z localStorage\'ƒ± desteklemiyor veya engellendi.');
                }

                // Ayarlarƒ± kaydet
                const settings = { city, radius };
                localStorage.setItem('defaultSettings', JSON.stringify(settings));

                // Varsayƒ±lan ayarlarƒ± g√ºncelle
                updateDefaultSettingsInfo();

                // Ba≈üarƒ± mesajƒ±
                showToast('Varsayƒ±lan ayarlar kaydedildi!', 'success');

                const btn = this;
                btn.innerHTML = '<i class="ri-check-line"></i> KAYDEDƒ∞LDƒ∞';
                btn.classList.add('pulse-animation');
                setTimeout(() => {
                    btn.innerHTML = '<i class="ri-save-line"></i> KAYDET';
                    btn.classList.remove('pulse-animation');
                }, 2000);

            } catch (e) {
                console.error('Ayarlar kaydedilirken hata olu≈ütu:', e);
                showToast('Ayarlar kaydedilemedi: ' + e.message, 'error');
            }
        });

        // Arama Sƒ±fƒ±rla Butonu ƒ∞≈ülevini G√ºncelleyin
        document.getElementById('resetSearch').addEventListener('click', function () {
            // Form alanlarƒ±nƒ± sƒ±fƒ±rla
            document.getElementById('searchQuery').value = '';
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';
            document.getElementById('city').value = defaultSettings.city || "37.0659,37.3781";
            document.getElementById('radius').value = defaultSettings.radius || 100;

            // Varsayƒ±lan ≈üehir ve yarƒ±√ßap bilgilerini al
            const [lat, lng] = (defaultSettings.city || "37.0659,37.3781").split(',').map(Number);
            const radius = defaultSettings.radius || 100;

            // Haritayƒ± g√ºncelle
            updateMap(lat, lng, radius);

            // Twitter ikonlarƒ±nƒ± g√ºncelle
            twitterMarkers.forEach(marker => map.removeLayer(marker));
            twitterMarkers = [];
            addTwitterLogos({ lat, lng }, radius);
            animateTwitterLogos({ lat, lng }, radius);

            // Buton g√∂r√ºn√ºm√ºn√º g√ºncelle
            const btn = this;
            btn.innerHTML = '<i class="ri-check-line"></i> SIFIRLANDI';
            setTimeout(() => {
                btn.innerHTML = '<i class="ri-refresh-line"></i> ARAMA SIFIRLA';
            }, 2000);
        });

        // Arama Filtreleri
        const filterParams = {
            latest: "&src=recent_search_click&f=live",
            hashtag: "&src=recent_search_click&f=hashtag",
            replies: "&src=recent_search_click&filter=replies",
            // Yeni eklenen filtreler
            news: "&src=recent_search_click&f=news",
            verified: "&src=recent_search_click&f=verified",
            mentions: "&src=recent_search_click&filter=mentions",
            from_account: "&src=recent_search_click&filter=from_account",
            to_account: "&src=recent_search_click&filter=to_account",
            link: "&src=recent_search_click&filter=links" // Yeni eklenen "Link" filtresi
        };

        // Filtre butonlarƒ±na tƒ±klama olayƒ±nƒ± dinleyin
        const filterButtons = document.querySelectorAll('.search-filters button');
        filterButtons.forEach(button => {
            button.addEventListener('click', function () {
                filterButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                selectedFilter = this.getAttribute('data-filter');
                console.log('Selected Filter:', selectedFilter); // Konsola yazdƒ±r
            });
        });

        // URL olu≈üturma fonksiyonu
        function generateSpecialTwitterUrl() {
            let query = document.getElementById('searchQuery').value.trim();
            const cityCoordinates = document.getElementById('city').value;
            const radius = document.getElementById('radius').value;

            if (!query || !cityCoordinates || !radius) {
                showToast('L√ºtfen arama terimi, ≈üehir ve yarƒ±√ßap girin', 'error');
                return null;
            }

            let twitterSearchUrl = `https://twitter.com/search?q=${encodeURIComponent(query)} geocode:${cityCoordinates},${radius}KM`;

            // Filtreye g√∂re URL'yi olu≈ütur
            if (selectedFilter && selectedFilter !== 'default') {
                switch (selectedFilter) {
                    case 'hashtag':
                        twitterSearchUrl += "&src=recent_search_click&f=hashtag";
                        break;
                    case 'replies':
                        twitterSearchUrl += "&src=recent_search_click&filter=replies";
                        break;
                    case 'news':
                        twitterSearchUrl += "&src=recent_search_click&f=news";
                        break;
                    case 'verified':
                        twitterSearchUrl += "&src=recent_search_click&f=verified";
                        break;
                    default:
                        twitterSearchUrl += "&f=live"; // Varsayƒ±lan olarak &f=live
                        break;
                }
            } else {
                twitterSearchUrl += "&f=live"; // Varsayƒ±lan olarak &f=live
            }

            console.log('Generated Twitter URL:', twitterSearchUrl);
            return twitterSearchUrl;
        }

        // Diƒüer filtreler i√ßin mevcut URL olu≈üturma fonksiyonu
        function generateTwitterUrl() {
            let query = document.getElementById('searchQuery').value.trim();
            const cityCoordinates = document.getElementById('city').value;
            const radius = document.getElementById('radius').value;
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;

            // Elle konum se√ßildiyse, onu kullan
            let geo = '';
            if (manualLocation) {
                geo = `${manualLocation.lat.toFixed(5)},${manualLocation.lng.toFixed(5)}`;
            } else {
                geo = cityCoordinates;
            }

            if (!query || !geo || !radius) {
                showToast('L√ºtfen arama terimi, ≈üehir veya konum ve yarƒ±√ßap girin', 'error');
                return null;
            }

            let twitterSearchUrl = "https://twitter.com/search?q=";

            // Diƒüer filtreler i√ßin i≈ülem yap
            if (selectedFilter === 'link') {
                query += " filter:links";
            } else if (selectedFilter === 'mentions') {
                query = `@${query}`;
            } else if (selectedFilter === 'from_account') {
                query = `from:@${query}`;
            } else if (selectedFilter === 'to_account') {
                query = `to:@${query}`;
            } else if (selectedFilter === 'hashtag') {
                query = `#${query}`;
            } else if (selectedFilter === 'replies') {
                query += " filter:replies";
            } else if (selectedFilter === 'news') {
                query += " filter:news";
            } else if (selectedFilter === 'verified') {
                query += " filter:verified";
            } else if (selectedFilter === 'images') {
                query += " filter:images";
            } else if (selectedFilter === 'videos') {
                query += " filter:videos";
            } else if (selectedFilter === 'sensitive') {
                query += " filter:safe";
            }

            twitterSearchUrl += encodeURIComponent(query);
            twitterSearchUrl += ` geocode:${geo},${radius}KM`;

            if (startDate && endDate) {
                const start = new Date(startDate);
                const end = new Date(endDate);
                if (start > end) {
                    showToast('Ba≈ülangƒ±√ß tarihi, biti≈ü tarihinden sonra olamaz!', 'error');
                    return null;
                }
                twitterSearchUrl += ` since:${startDate} until:${endDate}`;
            }

            twitterSearchUrl += "&f=live";

            return twitterSearchUrl;
        }

        // Form g√∂nderildiƒüinde hangi fonksiyonun √ßaƒürƒ±lacaƒüƒ±nƒ± belirle
        let isSubmitting = false; // Formun g√∂nderilip g√∂nderilmediƒüini kontrol etmek i√ßin

        document.querySelector('form#searchForm').addEventListener('submit', function (event) {
            event.preventDefault();

            const twitterSearchUrl = generateTwitterUrl();
            if (twitterSearchUrl) {
                const query = document.getElementById('searchQuery').value.trim();
                const timestamp = new Date().toISOString();

                // Yeni aramayƒ± recentSearches dizisine ekle
                recentSearches.unshift({ query, url: twitterSearchUrl, timestamp });

                // Diziyi localStorage'a kaydet
                try {
                    localStorage.setItem('recentSearches', JSON.stringify(recentSearches));
                } catch (e) {
                    console.error('Son aramalar kaydedilirken hata olu≈ütu:', e);
                }

                // Son aramalarƒ± g√ºncelle
                updateRecentSearches();

                // Yeni sekmede arama URL'sini a√ß
                window.open(twitterSearchUrl, '_blank');
            }
        });


        // Son Aramalarƒ± ve Favori Aramalarƒ± Y√ºkle
        function loadSearches(key) {
            try {
                const data = localStorage.getItem(key);
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error(`${key} y√ºklenirken hata olu≈ütu:`, e);
                return [];
            }
        }

        let recentSearches = loadSearches('recentSearches');
        let favoriteSearches = loadSearches('favoriteSearches');

        // Tarih ve Saat Formatƒ±
        function formatDateTime(dateString) {
            try {
                const date = new Date(dateString);
                return new Intl.DateTimeFormat('tr-TR', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                }).format(date);
            } catch (e) {
                console.error('Tarih formatlama hatasƒ±:', e);
                return 'Bilinmeyen tarih';
            }
        }

        // Son Aramalarƒ± Listele
        function updateRecentSearches() {
            const recentSearchesList = document.getElementById('recentSearchesList');
            recentSearchesList.innerHTML = '';

            if (recentSearches.length === 0) {
                const emptyMessage = document.createElement('li');
                emptyMessage.innerHTML = '<div style="width:100%; text-align:center; padding:15px; color:#657786;">ARAMA GE√áMƒ∞≈ûƒ∞ YOK</div>';
                recentSearchesList.appendChild(emptyMessage);
                return;
            }

            recentSearches.forEach((search, index) => {
                const li = document.createElement('li');
                const starButton = document.createElement('button');
                starButton.className = 'star-button';
                starButton.innerHTML = '‚òÖ';
                starButton.setAttribute('aria-label', 'Favorilere ekle');

                const isFavorited = favoriteSearches.some(fav => fav.url === search.url);
                if (isFavorited) {
                    starButton.classList.add('favorited');
                }

                starButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isFavorited = favoriteSearches.some(fav => fav.url === search.url);
                    if (isFavorited) {
                        favoriteSearches = favoriteSearches.filter(fav => fav.url !== search.url);
                        starButton.classList.remove('favorited');
                    } else {
                        favoriteSearches.unshift(search);
                        starButton.classList.add('favorited');
                    }
                    
                    try {
                        localStorage.setItem('favoriteSearches', JSON.stringify(favoriteSearches));
                        updateFavoriteSearches();
                    } catch (e) {
                        console.error('Favoriler kaydedilirken hata olu≈ütu:', e);
                        showToast('Favoriler kaydedilemedi', 'error');
                    }
                });

                const searchText = document.createElement('div');
                searchText.textContent = search.query;
                const searchDate = document.createElement('div');
                searchDate.className = 'search-date';
                searchDate.textContent = formatDateTime(search.timestamp);
                li.appendChild(starButton);
                li.appendChild(searchText);
                li.appendChild(searchDate);

                li.addEventListener('click', () => {
                    window.open(search.url, '_blank');
                });

                const deleteButton = document.createElement('button');
                deleteButton.className = 'delete-button';
                deleteButton.innerHTML = '<i class="ri-delete-bin-line"></i> Sƒ∞L';
                deleteButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    recentSearches.splice(index, 1);
                    
                    try {
                        localStorage.setItem('recentSearches', JSON.stringify(recentSearches));
                        updateRecentSearches();
                    } catch (e) {
                        console.error('Arama silinirken hata olu≈ütu:', e);
                        showToast('Arama silinemedi', 'error');
                    }
                });
                li.appendChild(deleteButton);
                recentSearchesList.appendChild(li);
            });
        }

        // Favori Aramalarƒ± Listele
        function updateFavoriteSearches() {
            const favoriteSearchesList = document.getElementById('favoriteSearchesList');
            favoriteSearchesList.innerHTML = '';

            if (favoriteSearches.length === 0) {
                const emptyMessage = document.createElement('li');
                emptyMessage.innerHTML = '<div style="width:100%; text-align:center; padding:15px; color:#657786;">FAVORƒ∞ ARAMA YOK</div>';
                favoriteSearchesList.appendChild(emptyMessage);
                return;
            }

            favoriteSearches.forEach((search, index) => {
                const li = document.createElement('li');
                const searchText = document.createElement('div');
                searchText.textContent = search.query;
                const searchDate = document.createElement('div');
                searchDate.className = 'search-date';
                searchDate.textContent = formatDateTime(search.timestamp);
                li.appendChild(searchText);
                li.appendChild(searchDate);

                li.addEventListener('click', () => {
                    window.open(search.url, '_blank');
                });

                const deleteButton = document.createElement('button');
                deleteButton.className = 'delete-button';
                deleteButton.innerHTML = '<i class="ri-delete-bin-line"></i> Sƒ∞L';
                deleteButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    favoriteSearches.splice(index, 1);
                    
                    try {
                        localStorage.setItem('favoriteSearches', JSON.stringify(favoriteSearches));
                        updateFavoriteSearches();
                    } catch (e) {
                        console.error('Favori silinirken hata olu≈ütu:', e);
                        showToast('Favori silinemedi', 'error');
                    }
                });
                li.appendChild(deleteButton);
                favoriteSearchesList.appendChild(li);
            });
        }

        // BAƒûLANTIYI KOPYALA
        document.getElementById('copySearchLink').addEventListener('click', async () => {
            const twitterUrl = generateTwitterUrl();
            if (!twitterUrl) return;
            
            try {
                await navigator.clipboard.writeText(twitterUrl);
                showToast('Baƒülantƒ± kopyalandƒ±!', 'success');
            } catch (err) {
                console.error('Kopyalama hatasƒ±:', err);
                showToast('Kopyalama ba≈üarƒ±sƒ±z!', 'error');
            }
        });

        // QR KOD OLU≈ûTUR
        document.getElementById('generateQR').addEventListener('click', () => {
            const twitterUrl = generateTwitterUrl();
            if (!twitterUrl) return;
            
            const qrModal = document.createElement('div');
            qrModal.className = 'qr-modal';
            qrModal.innerHTML = `
                <div class="qr-content">
                    <h3>QR KOD</h3>
                    <div id="qrcode-container"></div>
                    <div style="display: flex; justify-content: center; gap: 10px; margin-top: 15px;">
                        <button class="primary-btn" onclick="window.open('${twitterUrl}', '_blank')">URL A√ß</button>
                        <button class="danger-btn" id="closeQRModal">Kapat</button>
                    </div>
                </div>
            `;
            document.body.appendChild(qrModal);

            const container = document.getElementById('qrcode-container');
            QRCode.toCanvas(twitterUrl, { width: 200 }, (error, canvas) => {
                if (error) {
                    console.error('QR kod olu≈üturulurken hata olu≈ütu:', error);
                    showToast('QR kodu olu≈üturulamadƒ±', 'error');
                    return;
                }
                container.appendChild(canvas);
            });

            // Modalƒ± kapatma i≈ülevi
            const closeModal = () => {
                qrModal.remove();
                container.innerHTML = '';
            };

            document.getElementById('closeQRModal')?.addEventListener('click', closeModal);
            qrModal.addEventListener('click', (e) => {
                if (e.target === qrModal) {
                    closeModal();
                }
            });
        });


        // ƒ∞statistikleri G√ºncelle
        function updateStats(radius) {
            const randomTweets = Math.floor(Math.random() * 5000) + 500;
            const randomUsers = Math.floor(Math.random() * 1000) + 100;

            document.querySelector('.stats-card:nth-child(1) .count').textContent = randomTweets.toLocaleString();
            document.querySelector('.stats-card:nth-child(2) .count').textContent = randomUsers.toLocaleString();
            document.querySelector('.stats-card:nth-child(3) .count').textContent = `${radius} KM`;
        }

        // Sayfa Y√ºklendiƒüinde ƒ∞lk Ayarlarƒ± Yap
        window.addEventListener('load', function() {
            checkDarkMode();
            
            const [lat, lng] = defaultSettings.city.split(',').map(Number);
            const radius = defaultSettings.radius || 100;
            updateMap(lat, lng, radius);
            updateStats(radius);

            document.querySelector('.search-filters button[data-filter="latest"]').classList.add('active');
            updateRecentSearches();
            updateFavoriteSearches();
            loadNotes();
        });

        // T√ºm Aramalarƒ± Temizle Butonu ƒ∞≈ülevi
        document.getElementById('clearAllRecent').addEventListener('click', function() {
            if (confirm('T√ºm arama ge√ßmi≈üini silmek istediƒüinize emin misiniz?')) {
                recentSearches = [];
                
                try {
                    localStorage.setItem('recentSearches', JSON.stringify(recentSearches));
                    updateRecentSearches();
                    showToast('Arama ge√ßmi≈üi temizlendi', 'success');
                } catch (e) {
                    console.error('Arama ge√ßmi≈üi temizlenirken hata olu≈ütu:', e);
                    showToast('Arama ge√ßmi≈üi temizlenemedi', 'error');
                }
            }
        });

        // T√ºm Favori Aramalarƒ± Temizle Butonu ƒ∞≈ülevi
        document.getElementById('clearAllFavorites').addEventListener('click', function() {
            if (confirm('T√ºm favori aramalarƒ± silmek istediƒüinize emin misiniz?')) {
                favoriteSearches = [];
                
                try {
                    localStorage.setItem('favoriteSearches', JSON.stringify(favoriteSearches));
                    updateFavoriteSearches();
                    showToast('Favoriler temizlendi', 'success');
                } catch (e) {
                    console.error('Favoriler temizlenirken hata olu≈ütu:', e);
                    showToast('Favoriler temizlenemedi', 'error');
                }
            }
        });

        // Scroll to top butonu
        window.addEventListener('scroll', () => {
            const fab = document.getElementById('scrollToTop');
            if (window.scrollY > 300) {
                fab.classList.add('visible');
            } else {
                fab.classList.remove('visible');
            }
        });

        document.getElementById('scrollToTop').addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Buton ripple efekti
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(e) {
                const x = e.clientX - e.target.getBoundingClientRect().left;
                const y = e.clientY - e.target.getBoundingClientRect().top;
                
                const ripple = document.createElement('span');
                ripple.style.left = `${x}px`;
                ripple.style.top = `${y}px`;
                ripple.classList.add('ripple-effect');
                
                this.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 1000);
            });
        });

        // Harita y√ºksekliƒüini responsive ayarla
        function adjustMapHeight() {
            const map = document.getElementById('map');
            if (window.innerWidth < 768) {
                map.style.height = '300px';
            } else {
                map.style.height = '500px';
            }
        }

        window.addEventListener('resize', adjustMapHeight);
        adjustMapHeight();

        // IP ve Lokasyon Bilgisi Butonu
        document.getElementById('showIpInfo').addEventListener('click', async function () {
            const modal = document.getElementById('ipInfoModal');
            modal.style.display = 'flex';

            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();

                document.getElementById('ipAddress').textContent = data.ip || 'Bilinmiyor';
                document.getElementById('port').textContent = '80'; // Varsayƒ±lan HTTP portu
                document.getElementById('cityName').textContent = data.city || 'Bilinmiyor';
                document.getElementById('coordinates').textContent = `${data.latitude}, ${data.longitude}` || 'Bilinmiyor';
            } catch (error) {
                console.error('IP bilgisi alƒ±nƒ±rken hata olu≈ütu:', error);
                document.getElementById('ipAddress').textContent = 'Hata';
                document.getElementById('port').textContent = 'Hata';
                document.getElementById('cityName').textContent = 'Hata';
                document.getElementById('coordinates').textContent = 'Hata';
            }
        });

        // Modal Kapatma
        document.getElementById('closeIpInfoModal').addEventListener('click', function () {
            document.getElementById('ipInfoModal').style.display = 'none';
        });

        // Tarih ve Saat Butonu
        document.getElementById('showDateTime').addEventListener('click', function () {
            const modal = document.getElementById('dateTimeModal');
            modal.style.display = 'flex';

            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };

            document.getElementById('currentDate').textContent = now.toLocaleDateString('tr-TR', options);
            document.getElementById('currentTime').textContent = now.toLocaleTimeString('tr-TR', timeOptions);
        });

        // Modal Kapatma
        document.getElementById('closeDateTimeModal').addEventListener('click', function () {
            document.getElementById('dateTimeModal').style.display = 'none';
        });
        
        // DOM tamamen y√ºklendiƒüinde √ßalƒ±≈ütƒ±r
        document.addEventListener('DOMContentLoaded', function () {
            // Kaydet butonuna tƒ±klama olayƒ±nƒ± baƒüla
            document.getElementById('saveDefaultSettings').addEventListener('click', function () {
                const city = document.getElementById('city').value;
                const radius = document.getElementById('radius').value;

                if (!city || !radius) {
                    showToast('L√ºtfen ≈üehir ve yarƒ±√ßap se√ßin', 'error');
                    return;
                }

                try {
                    if (!isLocalStorageAvailable()) {
                        throw new Error('Tarayƒ±cƒ±nƒ±z localStorage\'ƒ± desteklemiyor veya engellidi.');
                    }

                    // Ayarlarƒ± kaydet
                    const settings = { city, radius };
                    localStorage.setItem('defaultSettings', JSON.stringify(settings));

                    // Varsayƒ±lan ayarlarƒ± g√ºncelle
                    updateDefaultSettingsInfo();

                    // Ba≈üarƒ± mesajƒ± ve animasyon
                    showToast('Varsayƒ±lan ayarlar kaydedildi!', 'success');

                    const btn = this;
                    btn.innerHTML = '<i class="ri-check-line"></i> KAYDEDƒ∞LDƒ∞';
                    btn.classList.add('pulse-animation');
                    setTimeout(() => {
                        btn.innerHTML = '<i class="ri-save-line"></i> KAYDET';
                        btn.classList.remove('pulse-animation');
                    }, 2000);

                } catch (e) {
                    console.error('Ayarlar kaydedilirken hata olu≈ütu:', e);
                    showToast('Ayarlar kaydedilemedi: ' + e.message, 'error');
                }
            });
        });

        // Hakkƒ±nda s√ºtununu a√ßƒ±lƒ±r kapanƒ±r hale getirme
        document.getElementById('aboutToggle').addEventListener('click', function () {
            const aboutContent = document.getElementById('aboutContent');
            const aboutArrow = document.getElementById('aboutArrow');

            if (aboutContent.style.display === 'none' || aboutContent.style.display === '') {
                aboutContent.style.display = 'block';
                aboutArrow.classList.remove('ri-arrow-down-s-line');
                aboutArrow.classList.add('ri-arrow-up-s-line');
            } else {
                aboutContent.style.display = 'none';
                aboutArrow.classList.remove('ri-arrow-up-s-line');
                aboutArrow.classList.add('ri-arrow-down-s-line');
            }
        });

        // NOT ƒ∞≈ûLEMLERƒ∞
        let notes = [];
        let editingNoteId = null;

        // Notlarƒ± y√ºkle
        function loadNotes() {
            try {
                const savedNotes = localStorage.getItem('notes');
                notes = savedNotes ? JSON.parse(savedNotes) : [];
                renderNotes();
            } catch (e) {
                console.error('Notlar y√ºklenirken hata olu≈ütu:', e);
                notes = [];
            }
        }

        // Notlarƒ± render et
        function renderNotes() {
            const notesList = document.getElementById('notesList');
            notesList.innerHTML = '';

            if (notes.length === 0) {
                const emptyMessage = document.createElement('li');
                emptyMessage.innerHTML = '<div style="width:100%; text-align:center; padding:15px; color:#657786;">NOT EKLENMEDƒ∞</div>';
                notesList.appendChild(emptyMessage);
                return;
            }

            notes.forEach((note, index) => {
                const li = document.createElement('li');
                li.className = 'note-item';

                const noteText = document.createElement('div');
                noteText.className = 'note-text';
                noteText.textContent = note.text;

                const noteActions = document.createElement('div');
                noteActions.className = 'note-actions';

                const editBtn = document.createElement('button');
                editBtn.className = 'info-btn';
                editBtn.innerHTML = '<i class="ri-edit-line"></i>';
                editBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    openNoteModal(note.id);
                });

                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'danger-btn';
                deleteBtn.innerHTML = '<i class="ri-delete-bin-line"></i>';
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    deleteNote(note.id);
                });

                noteActions.appendChild(editBtn);
                noteActions.appendChild(deleteBtn);
                li.appendChild(noteText);
                li.appendChild(noteActions);
                notesList.appendChild(li);
            });
        }

        // Not ekle/d√ºzenle modalƒ±nƒ± a√ß
        function openNoteModal(noteId = null) {
            const modal = document.getElementById('noteModal');
            const title = document.getElementById('noteModalTitle');
            const textarea = document.getElementById('noteText');

            if (noteId) {
                // D√ºzenleme modu
                editingNoteId = noteId;
                const note = notes.find(n => n.id === noteId);
                title.textContent = 'NOTU D√úZENLE';
                textarea.value = note.text;
            } else {
                // Ekleme modu
                editingNoteId = null;
                title.textContent = 'YENƒ∞ NOT EKLE';
                textarea.value = '';
            }

            modal.style.display = 'flex';
            textarea.focus();
        }

        // Not kaydet
        function saveNote() {
            const text = document.getElementById('noteText').value.trim();
            if (!text) {
                showToast('Not bo≈ü olamaz!', 'error');
                return;
            }

            if (editingNoteId) {
                // D√ºzenleme i≈ülemi
                const noteIndex = notes.findIndex(n => n.id === editingNoteId);
                if (noteIndex !== -1) {
                    notes[noteIndex].text = text;
                }
            } else {
                // Yeni not ekleme
                const newNote = {
                    id: Date.now().toString(),
                    text: text,
                    createdAt: new Date().toISOString()
                };
                notes.unshift(newNote);
            }

            try {
                localStorage.setItem('notes', JSON.stringify(notes));
                renderNotes();
                showToast(editingNoteId ? 'Not g√ºncellendi!' : 'Not eklendi!', 'success');
                closeNoteModal();
            } catch (e) {
                console.error('Not kaydedilirken hata olu≈ütu:', e);
                showToast('Not kaydedilemedi!', 'error');
            }
        }

        // Not sil
        function deleteNote(noteId) {
            if (confirm('Bu notu silmek istediƒüinize emin misiniz?')) {
                notes = notes.filter(note => note.id !== noteId);
                
                try {
                    localStorage.setItem('notes', JSON.stringify(notes));
                    renderNotes();
                    showToast('Not silindi!', 'success');
                } catch (e) {
                    console.error('Not silinirken hata olu≈ütu:', e);
                    showToast('Not silinemedi!', 'error');
                }
            }
        }

        // Not modalƒ±nƒ± kapat
        function closeNoteModal() {
            document.getElementById('noteModal').style.display = 'none';
            editingNoteId = null;
        }

        // Not ekle butonu
        document.getElementById('addNoteBtn').addEventListener('click', () => {
            openNoteModal();
        });

        // Not kaydet butonu
        document.getElementById('saveNoteBtn').addEventListener('click', saveNote);

        // Not iptal butonu
        document.getElementById('cancelNoteBtn').addEventListener('click', closeNoteModal);

        // Modal dƒ±≈üƒ±na tƒ±klandƒ±ƒüƒ±nda kapat
        document.getElementById('noteModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('noteModal')) {
                closeNoteModal();
            }
        });

        // TAKƒ∞P EDƒ∞LEN HESAPLAR ƒ∞≈ûLEMLERƒ∞
        let followedAccounts = [];
        let editingAccountId = null;

        // Takip edilen hesaplarƒ± y√ºkle
        function loadFollowedAccounts() {
            try {
                const savedAccounts = localStorage.getItem('followedAccounts');
                followedAccounts = savedAccounts ? JSON.parse(savedAccounts) : [];
                renderFollowedAccounts();
            } catch (e) {
                console.error('Takip edilen hesaplar y√ºklenirken hata olu≈ütu:', e);
                followedAccounts = [];
            }
        }

        // Takip edilen hesaplarƒ± render et
        function renderFollowedAccounts() {
            const accountsList = document.getElementById('followedAccountsList');
            accountsList.innerHTML = '';

            if (followedAccounts.length === 0) {
                const emptyMessage = document.createElement('li');
                emptyMessage.innerHTML = '<div style="width:100%; text-align:center; padding:15px; color:#657786;">TAKƒ∞P EDƒ∞LEN HESAP / URL EKLENMEDƒ∞</div>';
                accountsList.appendChild(emptyMessage);
                return;
            }

            followedAccounts.forEach((account) => {
                const li = document.createElement('li');
                li.className = 'note-item';

                const accountText = document.createElement('div');
                accountText.className = 'note-text';
                accountText.textContent = account.displayName || account.url;

                // Hesap URL'sine tƒ±klanabilirlik ekle
                li.addEventListener('click', () => {
                    window.open(account.url, '_blank');
                });

                const accountActions = document.createElement('div');
                accountActions.className = 'note-actions';

                const editBtn = document.createElement('button');
                editBtn.className = 'info-btn';
                editBtn.innerHTML = '<i class="ri-edit-line"></i>';
                editBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    openAccountModal(account.id);
                });

                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'danger-btn';
                deleteBtn.innerHTML = '<i class="ri-delete-bin-line"></i>';
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    deleteAccount(account.id);
                });

                accountActions.appendChild(editBtn);
                accountActions.appendChild(deleteBtn);
                li.appendChild(accountText);
                li.appendChild(accountActions);
                accountsList.appendChild(li);
            });
        }

        // Notlarƒ± render et
        function renderNotes() {
            const notesList = document.getElementById('notesList');
            notesList.innerHTML = '';

            if (notes.length === 0) {
                const emptyMessage = document.createElement('li');
                emptyMessage.innerHTML = '<div style="width:100%; text-align:center; padding:15px; color:#657786;">NOT EKLENMEDƒ∞</div>';
                notesList.appendChild(emptyMessage);
                return;
            }

            notes.forEach((note, index) => {
                const li = document.createElement('li');
                li.className = 'note-item';

                const noteText = document.createElement('div');
                noteText.className = 'note-text';
                noteText.textContent = note.text;

                const noteActions = document.createElement('div');
                noteActions.className = 'note-actions';

                const editBtn = document.createElement('button');
                editBtn.className = 'info-btn';
                editBtn.innerHTML = '<i class="ri-edit-line"></i>';
                editBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    openNoteModal(note.id);
                });

                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'danger-btn';
                deleteBtn.innerHTML = '<i class="ri-delete-bin-line"></i>';
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    deleteNote(note.id);
                });

                noteActions.appendChild(editBtn);
                noteActions.appendChild(deleteBtn);
                li.appendChild(noteText);
                li.appendChild(noteActions);
                notesList.appendChild(li);
            });
        }

        // Takip edilen hesap ekle/d√ºzenle modalƒ±nƒ± a√ß
        function openAccountModal(accountId = null) {
            const modal = document.getElementById('accountModal');
            const title = document.getElementById('accountModalTitle');
            const urlInput = document.getElementById('accountUrl');
            const displayNameInput = document.getElementById('accountDisplayName');

            if (accountId) {
                // D√ºzenleme modu
                editingAccountId = accountId;
                const account = followedAccounts.find(a => a.id === accountId);
                title.textContent = 'HESABI D√úZENLE';
                urlInput.value = account.url;
                displayNameInput.value = account.displayName || '';
            } else {
                // Ekleme modu
                editingAccountId = null;
                title.textContent = 'YENƒ∞ HESAP EKLE';
                urlInput.value = '';
                displayNameInput.value = '';
            }

            modal.style.display = 'flex';
            urlInput.focus();
        }

        // Takip edilen hesap kaydet
        function saveAccount() {
            const url = document.getElementById('accountUrl').value.trim();
            const displayName = document.getElementById('accountDisplayName').value.trim();

            if (!url) {
                showToast('Hesap URL\'si bo≈ü olamaz!', 'error');
                return;
            }

            if (editingAccountId) {
                // D√ºzenleme i≈ülemi
                const accountIndex = followedAccounts.findIndex(a => a.id === editingAccountId);
                if (accountIndex !== -1) {
                    followedAccounts[accountIndex].url = url;
                    followedAccounts[accountIndex].displayName = displayName;
                }
            } else {
                // Yeni hesap ekleme
                const newAccount = {
                    id: Date.now().toString(),
                    url: url,
                    displayName: displayName,
                    createdAt: new Date().toISOString()
                };
                followedAccounts.unshift(newAccount);
            }

            try {
                localStorage.setItem('followedAccounts', JSON.stringify(followedAccounts));
                renderFollowedAccounts();
                showToast(editingAccountId ? 'Hesap g√ºncellendi!' : 'Hesap eklendi!', 'success');
                closeAccountModal();
            } catch (e) {
                console.error('Hesap kaydedilirken hata olu≈ütu:', e);
                showToast('Hesap kaydedilemedi!', 'error');
            }
        }

        // Takip edilen hesap sil
        function deleteAccount(accountId) {
            if (confirm('Bu hesabƒ± silmek istediƒüinize emin misiniz?')) {
                followedAccounts = followedAccounts.filter(account => account.id !== accountId);

                try {
                    localStorage.setItem('followedAccounts', JSON.stringify(followedAccounts));
                    renderFollowedAccounts();
                    showToast('Hesap silindi!', 'success');
                } catch (e) {
                    console.error('Hesap silinirken hata olu≈ütu:', e);
                    showToast('Hesap silinemedi!', 'error');
                }
            }
        }

        // Takip edilen hesap modalƒ±nƒ± kapat
        function closeAccountModal() {
            document.getElementById('accountModal').style.display = 'none';
            editingAccountId = null;
        }

        // Hesap ekle butonu
        document.getElementById('addAccountBtn').addEventListener('click', () => {
            openAccountModal();
        });

        // Hesap kaydet butonu
        document.getElementById('saveAccountBtn').addEventListener('click', saveAccount);

        // Hesap iptal butonu
        document.getElementById('cancelAccountBtn').addEventListener('click', closeAccountModal);

        // Modal dƒ±≈üƒ±na tƒ±klandƒ±ƒüƒ±nda kapat
        document.getElementById('accountModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('accountModal')) {
                closeAccountModal();
            }
        });

        // Sayfa y√ºklendiƒüinde takip edilen hesaplarƒ± y√ºkle
        window.addEventListener('load', loadFollowedAccounts);

        // Konumum Butonu ƒ∞≈ülevi
        document.getElementById('showMyLocation').addEventListener('click', function () {
            if (!navigator.geolocation) {
                showToast('Tarayƒ±cƒ±nƒ±z konum √∂zelliƒüini desteklemiyor', 'error');
                return;
            }

            navigator.geolocation.getCurrentPosition(
                function (position) {
                    const { latitude, longitude } = position.coords;

                    // Haritayƒ± mevcut konuma odakla
                    map.setView([latitude, longitude], 13);

                    // Mevcut konumu i≈üaretle
                    const myLocationMarker = L.marker([latitude, longitude], {
                        icon: L.divIcon({
                            className: 'twitter-icon',
                            html: '<i class="ri-map-pin-2-fill" style="color: red; font-size: 2rem;"></i>',
                            iconSize: [30, 30],
                            iconAnchor: [15, 15]
                        })
                    }).addTo(map);

                    // Bilgi penceresi ekle
                    myLocationMarker.bindPopup('Mevcut Konumunuz').openPopup();
                },
                function (error) {
                    showToast('Konum alƒ±namadƒ±: ' + error.message, 'error');
                }
            );
        });

        document.getElementById('attitudeButton').addEventListener('click', function (e) {
            const emojiPicker = document.getElementById('emojiPicker');
            const rect = e.target.getBoundingClientRect();

            // Emoji se√ßim kutusunu butonun altƒ±na yerle≈ütir
            emojiPicker.style.top = `${rect.bottom + window.scrollY}px`;
            emojiPicker.style.left = `${rect.left + window.scrollX}px`;
            emojiPicker.style.display = emojiPicker.style.display === 'none' ? 'grid' : 'none';
        });
       
        // Emoji butonlarƒ±na tƒ±klama i≈ülevi
       document.querySelectorAll('.emoji-btn').forEach(button => {
            button.addEventListener('click', function (event) {
                event.stopPropagation(); // Tƒ±klama olayƒ±nƒ± durdur
                event.preventDefault(); // Yeni sekmede a√ßƒ±lmayƒ± engelle
                const emoji = this.textContent;
                const searchQueryInput = document.getElementById('searchQuery');

                // Emoji arama metnine eklenir
                searchQueryInput.value += ` ${emoji}`;

                // Emoji se√ßim kutusunu gizle
                document.getElementById('emojiPicker').style.display = 'none';
            });
        });

        // Emoji se√ßim kutusunu kapatmak i√ßin sayfa dƒ±≈üƒ±na tƒ±klama
        document.addEventListener('click', function (e) {
            const emojiPicker = document.getElementById('emojiPicker');
            if (!emojiPicker.contains(e.target) && e.target.id !== 'attitudeButton') {
                emojiPicker.style.display = 'none';
            }
        });


        // Enter tu≈üuna basƒ±ldƒ±ƒüƒ±nda formu g√∂nder
        document.getElementById('searchQuery').addEventListener('keypress', function (event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // Varsayƒ±lan form g√∂nderimini engelle
                document.querySelector('form#searchForm').dispatchEvent(new Event('submit')); // Formu g√∂nder
            }
        });


        // T√ºm butonlara tooltip ekle
        document.querySelectorAll('button').forEach(button => {
            // Eƒüer butonun bir "title" √∂zelliƒüi varsa
            if (button.hasAttribute('title')) {
                const tooltipText = button.getAttribute('title');
                button.removeAttribute('title'); // Varsayƒ±lan tarayƒ±cƒ± tooltip'ini kaldƒ±r

                // Tooltip kapsayƒ±cƒ±sƒ±nƒ± olu≈ütur
                const tooltipContainer = document.createElement('div');
                tooltipContainer.classList.add('tooltip-container');

                // Tooltip metnini olu≈ütur
                const tooltip = document.createElement('span');
                tooltip.classList.add('tooltip-text');
                tooltip.textContent = tooltipText;

                // Butonu kapsayƒ±cƒ±ya sar ve tooltip'i ekle
                button.parentNode.insertBefore(tooltipContainer, button);
                tooltipContainer.appendChild(button);
                tooltipContainer.appendChild(tooltip);
            }
        });

        // "Son 24 Saat" butonuna tƒ±klama i≈ülevi
        document.getElementById('last24HoursBtn').addEventListener('click', function () {
            const now = new Date();
            const yesterday = new Date(now);
            yesterday.setDate(now.getDate() - 1);

            // Tarih formatƒ±nƒ± YYYY-MM-DD olarak ayarla
            const formatDate = (date) => date.toISOString().split('T')[0];

            document.getElementById('startDate').value = formatDate(yesterday);
            document.getElementById('endDate').value = formatDate(now);
        });

        // Bilgiler Butonu ƒ∞≈ülevi
document.getElementById('showGuide').addEventListener('click', function () {
    document.getElementById('guideModal').style.display = 'flex';
});

// Bilgiler Modalƒ±nƒ± Kapatma
document.getElementById('closeGuideModal').addEventListener('click', function () {
    document.getElementById('guideModal').style.display = 'none';
});

// Modal dƒ±≈üƒ±na tƒ±klanƒ±rsa kapat
document.getElementById('guideModal').addEventListener('click', function (e) {
    if (e.target === this) {
        this.style.display = 'none';
    }
});

        // Elle konum se√ßimi i√ßin deƒüi≈ükenler
        let isSelectingLocation = false;
        let manualLocation = null;
        let manualCircle = null;
        let manualMarker = null;

        // Haritadan konum se√ßme butonu
        document.getElementById('enableMapSelect').addEventListener('click', function () {
            isSelectingLocation = true;
            this.disabled = true;
            document.getElementById('cancelMapSelect').style.display = 'inline-flex';
            map.getContainer().style.cursor = 'crosshair';
            showToast('Haritadan konum se√ßmek i√ßin haritaya tƒ±klayƒ±n', 'success');
        });

        // Konum se√ßimini iptal et butonu
        document.getElementById('cancelMapSelect').addEventListener('click', function () {
            isSelectingLocation = false;
            manualLocation = null;
            this.style.display = 'none';
            document.getElementById('enableMapSelect').disabled = false;
            document.getElementById('selectedMapLocation').style.display = 'none';
            map.getContainer().style.cursor = '';
            // Se√ßili marker ve √ßemberi kaldƒ±r
            if (manualMarker) { map.removeLayer(manualMarker); manualMarker = null; }
            if (manualCircle) { map.removeLayer(manualCircle); manualCircle = null; }
            // ≈ûehir ve yarƒ±√ßap dropdownlarƒ±nƒ± tekrar aktif et
            document.getElementById('city').disabled = false;
            document.getElementById('radius').disabled = false;
            // Harita ve logolarƒ± ≈üehir/yarƒ±√ßap se√ßimine d√∂nd√ºr
            const [lat, lng] = document.getElementById('city').value.split(',').map(Number);
            const radius = document.getElementById('radius').value || 100;
            updateMap(lat, lng, radius);
            twitterMarkers.forEach(marker => map.removeLayer(marker));
            twitterMarkers = [];
            addTwitterLogos({ lat, lng }, radius);
            animateTwitterLogos({ lat, lng }, radius);
        });

        // Harita tƒ±klama ile konum se√ßme
        map.on('click', function (e) {
            if (!isSelectingLocation) return;
            manualLocation = e.latlng;
            // ≈ûehir ve yarƒ±√ßap dropdownlarƒ±nƒ± devre dƒ±≈üƒ± bƒ±rak
            document.getElementById('city').disabled = true;
            document.getElementById('radius').disabled = true;

            // Se√ßili marker ve √ßemberi kaldƒ±r
            if (manualMarker) { map.removeLayer(manualMarker); }
            if (manualCircle) { map.removeLayer(manualCircle); }

            // KAYITLI (≈üehir se√ßimiyle eklenen) √áEMBERƒ∞ KALDIR
            if (circle && map.hasLayer(circle)) {
                map.removeLayer(circle);
            }

            // Marker ve √ßember ekle
            manualMarker = L.marker(manualLocation, {
                icon: L.divIcon({
                    className: 'twitter-icon',
                    html: '<i class="ri-map-pin-2-fill" style="color: #FF4500; font-size: 2rem;"></i>',
                    iconSize: [30, 30],
                    iconAnchor: [15, 15]
                }),
                draggable: true // S√ºr√ºklenebilir yap
            }).addTo(map);

            manualMarker.on('dragend', function(e) {
                manualLocation = e.target.getLatLng();
                manualCircle.setLatLng(manualLocation);
                document.getElementById('selectedLatLng').textContent = `${manualLocation.lat.toFixed(5)}, ${manualLocation.lng.toFixed(5)}`;
                // Twitter logolarƒ±nƒ± g√ºncelle
                twitterMarkers.forEach(marker => map.removeLayer(marker));
                twitterMarkers = [];
                addTwitterLogos(manualLocation, document.getElementById('radius').value || 100);
                animateTwitterLogos(manualLocation, document.getElementById('radius').value || 100);
            });

            const radius = document.getElementById('radius').value || 100;
            manualCircle = L.circle(manualLocation, {
                radius: radius * 1000,
                color: '#FF4500',
                fillColor: '#7937e0',
                fillOpacity: 0.3,
                weight: 2,
                dashArray: '5, 5',
                className: 'pulse-circle'
            }).addTo(map);

            map.fitBounds(manualCircle.getBounds(), { padding: [50, 50] });

            // Se√ßilen konumu g√∂ster
            document.getElementById('selectedLatLng').textContent = `${manualLocation.lat.toFixed(5)}, ${manualLocation.lng.toFixed(5)}`;
            document.getElementById('selectedMapLocation').style.display = 'inline';

            // ≈ûehir adƒ±nƒ± g√ºncelle (ters geokodlama ile)
            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${manualLocation.lat}&lon=${manualLocation.lng}&accept-language=tr`)
                .then(res => res.json())
                .then(data => {
                    let cityName = "SE√áƒ∞LEN KONUM";
                    if (data.address) {
                        cityName = data.address.city || data.address.town || data.address.village || data.address.state || "SE√áƒ∞LEN KONUM";
                    }
                    document.getElementById('statsCity').textContent = cityName;
                })
                .catch(() => {
                    document.getElementById('statsCity').textContent = "SE√áƒ∞LEN KONUM";
                });

            // Twitter logolarƒ±nƒ± yeni konuma g√∂re g√ºncelle
            twitterMarkers.forEach(marker => map.removeLayer(marker));
            twitterMarkers = [];
            addTwitterLogos(manualLocation, radius);
            animateTwitterLogos(manualLocation, radius);
            showAddress(manualLocation.lat, manualLocation.lng);
        });

        // Yarƒ±√ßap deƒüi≈üirse elle se√ßili konumun √ßemberini g√ºncelle
        document.getElementById('radius').addEventListener('change', function () {
            if (manualLocation && manualCircle) {
                manualCircle.setRadius(this.value * 1000);
                // Twitter logolarƒ±nƒ± da g√ºncelle
                twitterMarkers.forEach(marker => map.removeLayer(marker));
                twitterMarkers = [];
                addTwitterLogos(manualLocation, this.value);
                animateTwitterLogos(manualLocation, this.value);
            }
        });

        function showAddress(lat, lng) {
            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`)
                .then(res => res.json())
                .then(data => {
                    const country = (data.address && data.address.country) ? data.address.country : "√úlke bulunamadƒ±";
                    document.getElementById('selectedLatLng').textContent = `${lat.toFixed(5)}, ${lng.toFixed(5)}`;
                    document.getElementById('selectedCountry').textContent = `- ${country}`;
                    showToast(data.display_name || "Adres bulunamadƒ±", 'success');
                });
        }
    </script>
</body>
</html>